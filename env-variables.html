
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="ascii" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Environment Variables &#8212; oneCCL  documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=8f2a1f02" />
    <link rel="stylesheet" type="text/css" href="_static/styles/sphinx-book-theme.css?v=eba8b062" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="_static/doctools.js?v=9bcbadda"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script src="_static/design-tabs.js?v=f930bc37"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'env-variables';</script>
    <link rel="icon" href="_static/favicons.png"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="oneCCL Benchmark Collective User Guide" href="benchmark-guide/benchmark.html" />
    <link rel="prev" title="Point-To-Point Operations" href="api/operations/point-to-point.html" />
    <script defer type="text/javascript" src="https://www.intel.com/content/dam/www/global/wap/performance-config.js" ></script>
    <script type="text/javascript">
        // Configure TMS settings
        var wapLocalCode = 'us-en'; // Dynamically set per localized site, see mapping table for values
        var wapSection = "oneapi-ccl"; // WAP team will give you a unique section for your site
        // Load TMS
        (function () {
        var url = 'https://www.intel.com/content/dam/www/global/wap/tms-loader.js'; // WAP file URL
        var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true; po.src = url;
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
        })();
    </script>
    <link href="_static/style.css" rel="stylesheet" type="text/css">

  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search..."
         aria-label="Search..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="_static/oneAPI-rgb-rev-100.png" class="logo__image only-light" alt=""/>
    <script>document.write(`<img src="_static/oneAPI-rgb-rev-100.png" class="logo__image only-dark" alt=""/>`);</script>
  
  
    <p class="title logo__title">oneCCL Documentation 2021.16</p>
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">About</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="release-notes.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Get Started</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="introduction/installation.html">Install oneCCL from Source</a></li>
<li class="toctree-l1"><a class="reference internal" href="introduction/sample.html">Build a Sample Application</a></li>
<li class="toctree-l1"><a class="reference internal" href="introduction/cmake-configuration.html">Use oneCCL package from CMake</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Developer Guide</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="programming-model.html">Programming Model</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="programming-model/host-communication.html">Host Communication</a></li>
<li class="toctree-l2"><a class="reference internal" href="programming-model/device-communication.html">Device Communication</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="general-configuration.html">General Configuration</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="general-configuration/operation-execution.html">Execution of Communication Operations</a></li>
<li class="toctree-l2"><a class="reference internal" href="general-configuration/transport-selection.html">Transport Selection</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="advanced-configuration.html">Advanced Configuration</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="advanced-configuration/collective-algorithms-selection.html">Selection of Collective Algorithms</a></li>
<li class="toctree-l2"><a class="reference internal" href="advanced-configuration/low-precision-datatypes.html">Low-precision Datatypes</a></li>
<li class="toctree-l2"><a class="reference internal" href="advanced-configuration/operation-caching.html">Caching of Communication Operations</a></li>
<li class="toctree-l2"><a class="reference internal" href="advanced-configuration/operation-prioritization.html">Prioritization of Communication Operations</a></li>
<li class="toctree-l2"><a class="reference internal" href="advanced-configuration/operation-fusion.html">Fusion of Communication Operations</a></li>
<li class="toctree-l2"><a class="reference internal" href="advanced-configuration/dmabuf.html">Enabling OFI/verbs/dmabuf Support</a></li>
</ul>
</details></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Developer Reference</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="api.html">oneCCL API</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="api/initialization.html">Initialization</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="api/concepts.html">oneCCL Concepts</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="api/concepts/communicator.html">Communicator</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/concepts/context.html">Context</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/concepts/device.html">Device</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/concepts/event.html">Event</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/concepts/kvs.html">Key-value Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/concepts/stream.html">Stream</a></li>
</ul>
</details></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="api/operations.html">Communication Operations</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="api/operations/datatypes.html">Datatypes</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="api/operations/collective-operations.html">Collective Operations</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l4"><a class="reference internal" href="api/operations/collective-operations/allgather.html">Allgather</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/operations/collective-operations/allgatherv.html">Allgatherv</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/operations/collective-operations/allreduce.html">Allreduce</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/operations/collective-operations/alltoall.html">Alltoall</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/operations/collective-operations/alltoallv.html">Alltoallv</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/operations/collective-operations/barrier.html">Barrier</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/operations/collective-operations/broadcast.html">Broadcast</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/operations/collective-operations/group-call.html">Group calls</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/operations/collective-operations/reduce.html">Reduce</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/operations/collective-operations/reduce-scatter.html">ReduceScatter</a></li>
</ul>
</details></li>
<li class="toctree-l3"><a class="reference internal" href="api/operations/point-to-point.html">Point-To-Point Operations</a></li>
</ul>
</details></li>
</ul>
</details></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Environment Variables</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Benchmark User Guide</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="benchmark-guide/benchmark.html">oneCCL Benchmark Collective User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="benchmark-guide/benchmark-point-to-point.html">oneCCL Benchmark Point-to-Point User Guide</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Notices and Disclaimers</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="legal.html">Notices and Disclaimers</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/oneapi-src/oneCCL/edit/master/doc/rst/source/env-variables.rst" target="_blank"
   class="btn btn-sm btn-source-edit-button dropdown-item"
   title="Suggest edit"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-pencil-alt"></i>
  </span>
<span class="btn__text-container">Suggest edit</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/oneapi-src/oneCCL/issues/new?title=Issue%20on%20page%20%2Fenv-variables.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/env-variables.rst" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.rst</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Environment Variables</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#collective-algorithms-selection">Collective Algorithms Selection</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#level-zero-path">Level Zero Path</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#allgather-allgatherv">ALLGATHER/ALLGATHERV</a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-allgather-ccl-allgatherv">CCL_ALLGATHER/CCL_ALLGATHERV</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-allgatherv-monolithic-pipeline-kernel">CCL_ALLGATHERV_MONOLITHIC_PIPELINE_KERNEL</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-allgather-scaleout-ccl-allgatherv-scaleout">CCL_ALLGATHER_SCALEOUT/CCL_ALLGATHERV_SCALEOUT</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-sycl-allgatherv-scaleout">CCL_SYCL_ALLGATHERV_SCALEOUT</a></li>
</ul>
</li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#allreduce">ALLREDUCE</a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-allreduce">CCL_ALLREDUCE</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-reduce-scatter-monolithic-pipeline-kernel-gpu-buffers-only">CCL_REDUCE_SCATTER_MONOLITHIC_PIPELINE_KERNEL (GPU buffers only)</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-allgatherv-monolithic-pipeline-kernel-gpu-buffers-only">CCL_ALLGATHERV_MONOLITHIC_PIPELINE_KERNEL (GPU buffers only)</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-allreduce-scaleout-gpu-buffers-only">CCL_ALLREDUCE_SCALEOUT (GPU buffers only)</a></li>
</ul>
</li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#alltoall-alltoallv">ALLTOALL, ALLTOALLV</a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-alltoall-ccl-alltoallv">CCL_ALLTOALL, CCL_ALLTOALLV</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-alltoallv-monolithic-kernel">CCL_ALLTOALLV_MONOLITHIC_KERNEL</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-alltoall-scaleout-ccl-scaleout-alltoallv-scaleout">CCL_ALLTOALL_SCALEOUT, CCL_scaleout_ALLTOALLV_scaleout</a></li>
</ul>
</li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#barrier">BARRIER</a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-barrier">CCL_BARRIER</a></li>
</ul>
</li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#broadcast">BROADCAST</a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-bcast">CCL_BCAST</a></li>
</ul>
</li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#reduce">REDUCE</a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-reduce">CCL_REDUCE</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">CCL_REDUCE_SCATTER_MONOLITHIC_PIPELINE_KERNEL (GPU buffers only)</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-reduce-scaleout-gpu-buffers-only">CCL_REDUCE_SCALEOUT (GPU buffers only)</a></li>
</ul>
</li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#reduce-scatter">REDUCE SCATTER</a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-reduce-scatter">CCL_REDUCE_SCATTER</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#id3">CCL_REDUCE_SCATTER_MONOLITHIC_PIPELINE_KERNEL (GPU buffers only)</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-reduce-scatter-scaleout-gpu-buffers-only">CCL_REDUCE_SCATTER_SCALEOUT (GPU buffers only)</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sycl-path">SYCL PATH</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#all-collectives">All collectives</a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-enable-sycl-kernels">CCL_ENABLE_SYCL_KERNELS</a></li>
</ul>
</li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id4">ALLGATHER/ALLGATHERV</a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-sycl-allgatherv-tmp-buf">CCL_SYCL_ALLGATHERV_TMP_BUF</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-sycl-allgatherv-small-threshold">CCL_SYCL_ALLGATHERV_SMALL_THRESHOLD</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-sycl-allgatherv-scaleout-threshold">CCL_SYCL_ALLGATHERV_SCALEOUT_THRESHOLD</a></li>
</ul>
</li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id5">ALLREDUCE</a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-sycl-allreduce-tmp-buf">CCL_SYCL_ALLREDUCE_TMP_BUF</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-sycl-allreduce-small-threshold">CCL_SYCL_ALLREDUCE_SMALL_THRESHOLD</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-sycl-allreduce-scaleout-threshold">CCL_SYCL_ALLREDUCE_SCALEOUT_THRESHOLD</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-sycl-allreduce-scaleout-direct-threshold">CCL_SYCL_ALLREDUCE_SCALEOUT_DIRECT_THRESHOLD</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-sycl-allreduce-scaleout">CCL_SYCL_ALLREDUCE_SCALEOUT</a></li>
</ul>
</li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id6">BROADCAST</a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-sycl-broadcast-tmp-buf">CCL_SYCL_BROADCAST_TMP_BUF</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-sycl-broadcast-small-threshold">CCL_SYCL_BROADCAST_SMALL_THRESHOLD</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-sycl-broadcast-scaleout-threshold">CCL_SYCL_BROADCAST_SCALEOUT_THRESHOLD</a></li>
</ul>
</li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id7">REDUCE SCATTER</a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-sycl-reduce-scatter-tmp-buf">CCL_SYCL_REDUCE_SCATTER_TMP_BUF</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-sycl-reduce-scatter-small-threshold">CCL_SYCL_REDUCE_SCATTER_SMALL_THRESHOLD</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-sycl-reduce-scatter-scaleout-direct-threshold">CCL_SYCL_REDUCE_SCATTER_SCALEOUT_DIRECT_THRESHOLD</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-sycl-reduce-scatter-scaleout">CCL_SYCL_REDUCE_SCATTER_SCALEOUT</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-sycl-reduce-scatter-scaleout-threshold">CCL_SYCL_REDUCE_SCATTER_SCALEOUT_THRESHOLD</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#workers">Workers</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-worker-count">CCL_WORKER_COUNT</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-worker-affinity">CCL_WORKER_AFFINITY</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-worker-mem-affinity">CCL_WORKER_MEM_AFFINITY</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#kvs">KVS</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-kvs-mode">CCL_KVS_MODE</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#atl">ATL</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-atl-transport">CCL_ATL_TRANSPORT</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-atl-hmem">CCL_ATL_HMEM</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-atl-shm">CCL_ATL_SHM</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#process-launcher">PROCESS LAUNCHER</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-process-launcher">CCL_PROCESS_LAUNCHER</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-local-size">CCL_LOCAL_SIZE</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-local-rank">CCL_LOCAL_RANK</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#multi-nic">Multi-NIC</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-mnic">CCL_MNIC</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-mnic-name">CCL_MNIC_NAME</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-mnic-count">CCL_MNIC_COUNT</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#inter-process-communication-ipc">Inter Process Communication (IPC)</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-ze-cache-open-ipc-handles-threshold">CCL_ZE_CACHE_OPEN_IPC_HANDLES_THRESHOLD</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-ze-ipc-exchange">CCL_ZE_IPC_EXCHANGE</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-ze-cache-get-ipc-handles-threshold">CCL_ZE_CACHE_GET_IPC_HANDLES_THRESHOLD</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#low-precision-data-types">Low-precision Data Types</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-bf16">CCL_BF16</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-fp16">CCL_FP16</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-atl-mpi-fp16">CCL_ATL_MPI_FP16</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-atl-mpi-bf16">CCL_ATL_MPI_BF16</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-log-level">CCL_LOG_LEVEL</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#profiling">Profiling</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-itt-level">CCL_ITT_LEVEL</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-profiling-enable">CCL_PROFILING_ENABLE</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#fusion">Fusion</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-fusion">CCL_FUSION</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-fusion-bytes-threshold">CCL_FUSION_BYTES_THRESHOLD</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-fusion-count-threshold">CCL_FUSION_COUNT_THRESHOLD</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-fusion-cycle-ms">CCL_FUSION_CYCLE_MS</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-priority">CCL_PRIORITY</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-max-short-size">CCL_MAX_SHORT_SIZE</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-sycl-output-event">CCL_SYCL_OUTPUT_EVENT</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-ze-library-path">CCL_ZE_LIBRARY_PATH</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#point-to-point-operations">Point-To-Point Operations</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-recv">CCL_RECV</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-send">CCL_SEND</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-ze-tmp-buf-size">CCL_ZE_TMP_BUF_SIZE</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="environment-variables">
<h1>Environment Variables<a class="headerlink" href="#environment-variables" title="Link to this heading">#</a></h1>
<section id="collective-algorithms-selection">
<span id="id1"></span><h2>Collective Algorithms Selection<a class="headerlink" href="#collective-algorithms-selection" title="Link to this heading">#</a></h2>
<p>oneCCL supports collective operations for the host (CPU) memory buffers and
device (GPU) memory buffers. In addition, oneCCL has two different paths to
support collectives with the GPU buffers; one directly uses Level Zero, and
the other uses SYCL. The SYCL path is a new code being developed and support
for new collectives and algorithms are expanding.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The documentation is being updated as more collectives and algorithms are supported.</p>
</div>
<p>For GPU buffers, oneCCL collectives are optimized to execute a hierarchical
algorithm composed of an optimized scale-up phase (communication between
ranks/processes in the same node) and a scaleout phase (communication between
ranks/processes on different nodes). For CPU buffers, the current
collective algorithms do not have support for scale-up and scaleout phases;
only a non-hierarchical algorithm can be chosen.</p>
<p>For the <em>Level Zero</em> path, use <code class="docutils literal notranslate"><span class="pre">CCL_&lt;coll_name&gt;&#8239;=&#8239;&lt;algo_name&gt;</span></code> to select the
algorithm for the collective in <code class="docutils literal notranslate"><span class="pre">&lt;coll_name&gt;</span></code>. For GPU buffers, the default
algorithm is <code class="docutils literal notranslate"><span class="pre">topo</span></code>, which refers to the scale-up algorithm. If you select
an algorithm different from <code class="docutils literal notranslate"><span class="pre">topo</span></code>, oneCCL will implement a non-hierarchical
algorithm, where it will copy the GPU buffers to the Host (CPU) and will run
the specified algorithm. If the collective uses GPU buffers, you can select
whether the implementation of the scale-up algorithm should use copy engines
or kernels. Another alternative option is to select the scaleout algorithm using
<code class="docutils literal notranslate"><span class="pre">CCL_&lt;coll_name&gt;_SCALEOUT=&lt;algo_name&gt;</span></code>. For CPU buffers, the collective
selection is similar to that of the Level Zero path, but the <code class="docutils literal notranslate"><span class="pre">topo</span></code> algorithm
is not available in that case.</p>
<p>For the <em>SYCL</em> path, the implementation also uses a hierarchical algorithm.
The implementation has two different scale-up algorithms depending on the
message size (small or large). It is possible to change the threshold with
<code class="docutils literal notranslate"><span class="pre">CCL_SYCL_&lt;coll_name&gt;_SMALL_THRESHOLD</span></code>, so that collectives with message
sizes smaller than the specified threshold use an algorithm specialized
for small-sized messages. For large messages, the implementation supports
the usage of temporary buffers for communication across processes or writing
directly to the user buffer on the other process. This can be selected
with <code class="docutils literal notranslate"><span class="pre">CCL_SYCL_&lt;coll_name&gt;_TMP_BUF</span></code> variable.  The algorithm to use for
scaleout can be specified with <code class="docutils literal notranslate"><span class="pre">CCL_SYCL_&lt;coll_name&gt;_SCALEOUT</span></code>. Notice that
by default oneCCL will use a SYCL-based implementation. To fallback to a Level Zero-based
implementation, use the <code class="docutils literal notranslate"><span class="pre">CCL_SYCL_&lt;coll_name&gt;_SCALEOUT_THRESHOLD</span></code> variable,
in which case messages larger than this threshold will take the Level Zero path.</p>
<p>In the next section, the environment variables for collective algorithm selection
are explained based on the code path (Level Zero or SYCL), the collectives
being called, and the type of buffer (GPU or CPU).</p>
<section id="level-zero-path">
<h3>Level Zero Path<a class="headerlink" href="#level-zero-path" title="Link to this heading">#</a></h3>
<section id="allgather-allgatherv">
<h4>ALLGATHER/ALLGATHERV<a class="headerlink" href="#allgather-allgatherv" title="Link to this heading">#</a></h4>
<section id="ccl-allgather-ccl-allgatherv">
<h5>CCL_ALLGATHER/CCL_ALLGATHERV<a class="headerlink" href="#ccl-allgather-ccl-allgatherv" title="Link to this heading">#</a></h5>
<p><strong>Syntax</strong></p>
<p>For the whole message size:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_ALLGATHER</span><span class="o">=&lt;</span><span class="n">algo_name</span><span class="o">&gt;</span>
<span class="n">CCL_ALLGATHERV</span><span class="o">=&lt;</span><span class="n">algo_name</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>For a specific message size range:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_ALLGATHER</span><span class="o">=</span><span class="s">&quot;&lt;algo_name_1&gt;[:&lt;size_range_1&gt;][;&lt;algo_name_2&gt;:&lt;size_range_2&gt;][;...]&quot;</span>
<span class="n">CCL_ALLGATHERV</span><span class="o">=</span><span class="s">&quot;&lt;algo_name_1&gt;[:&lt;size_range_1&gt;][;&lt;algo_name_2&gt;:&lt;size_range_2&gt;][;...]&quot;</span>
</pre></div>
</div>
<p>Where:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;algo_name&gt;</span></code> is selected from the list of the available collective
algorithms.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;size_range&gt;</span></code> is described by the left and the right size
borders in the <code class="docutils literal notranslate"><span class="pre">&lt;left&gt;-&lt;right&gt;</span></code> format. The size is specified in bytes. To
specify the maximum message size, use the reserved word max.</p></li>
</ul>
<p><strong>Example</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_ALLGATHER</span><span class="o">=</span><span class="s">&quot;direct:0-8192;ring:8193-max&quot;</span>
<span class="n">CCL_ALLGATHERV</span><span class="o">=</span><span class="s">&quot;direct:0-8192;ring:8193-max&quot;</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<div class="pst-scrollable-table-container"><table class="table table-left">
<colgroup>
<col style="width: 33.3%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>&lt;algo_name&gt;</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">topo</span></code></p></td>
<td><p>Topology-aware algorithm for scale-up. The default for GPU buffers. Not available for CPU buffers.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">direct</span></code></p></td>
<td><p>Based on <code class="docutils literal notranslate"><span class="pre">MPI_Iallgather</span></code>/ <code class="docutils literal notranslate"><span class="pre">MPI_Iallgatherv</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">naive</span></code></p></td>
<td><p>Send to all, receive from all.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">flat</span></code></p></td>
<td><p>alltoall-based algorithm.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">multi_bcast</span></code></p></td>
<td><p>Series of broadcast operations with different root ranks.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ring</span></code></p></td>
<td><p>ring-based algorithm.</p></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Description</strong></p>
<p>Use this environment variable to specify the algorithm for <code class="docutils literal notranslate"><span class="pre">ALLGATHER</span></code>/ <code class="docutils literal notranslate"><span class="pre">ALLGATERV</span></code>.</p>
<p>If using GPU buffers, select <code class="docutils literal notranslate"><span class="pre">CCL_ALLGATHER=topo</span></code> or <code class="docutils literal notranslate"><span class="pre">CCL_ALLGATHERV=topo</span></code> (the default) to use a hierarchical algorithm for scale-up data transfer across GPUs in the same node.
For GPU buffers, when selecting an algorithm different from <code class="docutils literal notranslate"><span class="pre">topo</span></code>, oneCCL copies the data to the host and follows the specified CPU algorithm.</p>
</section>
<section id="ccl-allgatherv-monolithic-pipeline-kernel">
<h5>CCL_ALLGATHERV_MONOLITHIC_PIPELINE_KERNEL<a class="headerlink" href="#ccl-allgatherv-monolithic-pipeline-kernel" title="Link to this heading">#</a></h5>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_ALLGATHERV_MONOLITHIC_PIPELINE_KERNEL</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<div class="pst-scrollable-table-container"><table class="table table-left">
<colgroup>
<col style="width: 33.3%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>&lt;value&gt;</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">1</span></code></p></td>
<td><p>Uses compute kernels to transfer data across GPUs for the allgather phase of <code class="docutils literal notranslate"><span class="pre">ALLGATHER</span></code> / <code class="docutils literal notranslate"><span class="pre">ALLGATHERV</span></code>. The default value.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">0</span></code></p></td>
<td><p>Uses copy engines to transfer data across GPUs for the allgather phase of the <code class="docutils literal notranslate"><span class="pre">ALLGATHER</span></code> / <code class="docutils literal notranslate"><span class="pre">ALLGATHERV</span></code> collectives.</p></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Description</strong></p>
<p>Set this environment variable to use GPU buffers to specify the scale-up phase of the algorithm for <code class="docutils literal notranslate"><span class="pre">ALLGATHER</span></code>/ <code class="docutils literal notranslate"><span class="pre">ALLGATHERV</span></code>.
This environment variable allows the user to choose between using compute kernels or copy engines.</p>
<p>This option is only available if <code class="docutils literal notranslate"><span class="pre">CCL_ALLGATHER</span> <span class="pre">=</span> <span class="pre">topo</span></code> or <code class="docutils literal notranslate"><span class="pre">CCL_ALLGATHERV=topo</span></code> (the default for GPU buffers).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This environment variable applies to both <code class="docutils literal notranslate"><span class="pre">ALLGATHER</span></code> and <code class="docutils literal notranslate"><span class="pre">ALLGATHERV</span></code>.</p>
</div>
</section>
<section id="ccl-allgather-scaleout-ccl-allgatherv-scaleout">
<h5>CCL_ALLGATHER_SCALEOUT/CCL_ALLGATHERV_SCALEOUT<a class="headerlink" href="#ccl-allgather-scaleout-ccl-allgatherv-scaleout" title="Link to this heading">#</a></h5>
<p><strong>Syntax</strong></p>
<p>For the whole message size:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_ALLGATHER_SCALEOUT</span><span class="o">=&lt;</span><span class="n">algo_name</span><span class="o">&gt;</span>
<span class="n">CCL_ALLGATHERV_SCALEOUT</span><span class="o">=&lt;</span><span class="n">algo_name</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>For a specific message size range:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_ALLGATHER_SCALEOUT</span><span class="o">=</span><span class="s">&quot;&lt;algo_name_1&gt;[:&lt;size_range_1&gt;][;&lt;algo_name_2&gt;:&lt;size_range_2&gt;][;...]&quot;</span>
<span class="n">CCL_ALLGATHERV_SCALEOUT</span><span class="o">=</span><span class="s">&quot;&lt;algo_name_1&gt;[:&lt;size_range_1&gt;][;&lt;algo_name_2&gt;:&lt;size_range_2&gt;][;...]&quot;</span>
</pre></div>
</div>
<p>Where:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;algo_name&gt;</span></code> is selected from the list of the available scaleout
collective algorithms.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;size_range&gt;</span></code> is described by the left and the
right size borders in the <code class="docutils literal notranslate"><span class="pre">&lt;left&gt;-&lt;right&gt;</span></code> format. The size is specified in
bytes. To specify the maximum message size, use the reserved word max.</p></li>
</ul>
<p><strong>Example</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_ALLGATHER_SCALEOUT</span><span class="o">=</span><span class="s">&quot;direct:0-8192;ring:8193-max&quot;</span>
<span class="n">CCL_ALLGATHERV_SCALEOUT</span><span class="o">=</span><span class="s">&quot;direct:0-8192;ring:8193-max&quot;</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<div class="pst-scrollable-table-container"><table class="table table-left">
<colgroup>
<col style="width: 33.3%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>&lt;algo_name&gt;</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">direct</span></code></p></td>
<td><p>Based on <code class="docutils literal notranslate"><span class="pre">MPI_Iallgather</span></code>/ <code class="docutils literal notranslate"><span class="pre">MPI_Iallgatherv</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">naive</span></code></p></td>
<td><p>Send to all, receive from all.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">flat</span></code></p></td>
<td><p>alltoall-based algorithm.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">multi_bcast</span></code></p></td>
<td><p>Series of broadcast operations with different root ranks.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ring</span></code></p></td>
<td><p>ring-based algorithm. The default value.</p></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Description</strong></p>
<p>Set this environment variable to use GPU buffers to specify the scaleout phase of the algorithm for <code class="docutils literal notranslate"><span class="pre">ALLGATHER</span></code> / <code class="docutils literal notranslate"><span class="pre">ALLGATHERV</span></code>.
This option is only available if <code class="docutils literal notranslate"><span class="pre">CCL_ALLGATHERV</span> <span class="pre">=</span> <span class="pre">topo</span></code> or <code class="docutils literal notranslate"><span class="pre">CCL_ALLGATHER</span> <span class="pre">=</span> <span class="pre">topo</span></code> (the default for GPU buffers).</p>
<p>oneCCL internally fills the algorithm selection table with appropriate defaults. Your input complements the selection table.</p>
<p>To see the actual table values, set <code class="docutils literal notranslate"><span class="pre">CCL_LOG_LEVEL=info</span></code>.</p>
</section>
<section id="ccl-sycl-allgatherv-scaleout">
<h5>CCL_SYCL_ALLGATHERV_SCALEOUT<a class="headerlink" href="#ccl-sycl-allgatherv-scaleout" title="Link to this heading">#</a></h5>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_SYCL_ALLGATHERV_SCALEOUT</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<div class="pst-scrollable-table-container"><table class="table table-left">
<colgroup>
<col style="width: 33.3%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>&lt;algo_name&gt;</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">auto</span></code></p></td>
<td><p>Default value. For different message chunk sizes uses different algorithms.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">direct</span></code></p></td>
<td><p>Explicitly uses a direct algorithm in scale-out phase.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ring</span></code></p></td>
<td><p>Explicitly uses a ring algorithm in scale-out phase.</p></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Description</strong></p>
<p>Use this environment variable to specify the algorithm for <code class="docutils literal notranslate"><span class="pre">ALLGATHER/ALLGATHERV</span></code>. Currently, the selected algorithm is used for all message sizes.</p>
</section>
</section>
<section id="allreduce">
<h4>ALLREDUCE<a class="headerlink" href="#allreduce" title="Link to this heading">#</a></h4>
<section id="ccl-allreduce">
<h5>CCL_ALLREDUCE<a class="headerlink" href="#ccl-allreduce" title="Link to this heading">#</a></h5>
<p><strong>Syntax</strong></p>
<p>For the whole message size:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_ALLREDUCE</span><span class="o">=&lt;</span><span class="n">algo_name</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>For a specific message size range:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_ALLREDUCE</span><span class="o">=</span><span class="s">&quot;&lt;algo_name_1&gt;[:&lt;size_range_1&gt;][;&lt;algo_name_2&gt;:&lt;size_range_2&gt;][;...]&quot;</span>
</pre></div>
</div>
<p>Where:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;algo_name&gt;</span></code> is selected from the list of available collective algorithms.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;size_range&gt;</span></code> is described by the left and the right size
borders in the <code class="docutils literal notranslate"><span class="pre">&lt;left&gt;-&lt;right&gt;</span></code> format. The size is specified in bytes. To
specify the maximum message size, use the reserved word  <code class="docutils literal notranslate"><span class="pre">max</span></code>.</p></li>
</ul>
<p><strong>Example</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_ALLREDUCE</span><span class="o">=</span><span class="s">&quot;recursive_doubling:0-8192;rabenseifner:8193-1048576;ring:1048577-max&quot;</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<div class="pst-scrollable-table-container"><table class="table table-left">
<colgroup>
<col style="width: 33.3%" />
<col style="width: 66.7%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>&lt;algo_name&gt;</p></td>
<td><p>Description</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">topo</span></code></p></td>
<td><p>Topology-aware algorithm for scale-up. The default for GPU buffers. Not available for CPU buffers.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">direct</span></code></p></td>
<td><p>Based on <code class="docutils literal notranslate"><span class="pre">MPI_Iallreduce</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">rabenseifner</span></code></p></td>
<td><p>Rabenseifner algorithm.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">nreduce</span></code></p></td>
<td><p>May be beneficial for imbalanced workloads.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ring</span></code></p></td>
<td><p>reduce_scatter + allgather ring. Use <code class="docutils literal notranslate"><span class="pre">CCL_RS_CHUNK_COUNT</span></code> and <code class="docutils literal notranslate"><span class="pre">CCL_RS_MIN_CHUNK_SIZE</span></code> to control pipelining on reduce_scatter phase.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">double_tree</span></code></p></td>
<td><p>double-tree algorithm.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">recursive_doubling</span></code></p></td>
<td><p>Recursive doubling algorithm.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">2d</span></code></p></td>
<td><p>Two-dimensional algorithm (reduce_scatter + allreduce + allgather).</p></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Description</strong></p>
<p>Use this environment variable to specify the algorithm for <code class="docutils literal notranslate"><span class="pre">ALLREDUCE</span></code>.</p>
<p>If using GPU buffers, select <code class="docutils literal notranslate"><span class="pre">CCL_ALLREDUCE=topo</span></code> (the default) to use a hierarchical algorithm for scale-up data transfer across GPUs in the same node.
For GPU buffers, when selecting an algorithm different from <code class="docutils literal notranslate"><span class="pre">topo</span></code>, oneCCL copies the data to the host and follows the specified CPU algorithm.</p>
<p>oneCCL internally fills the algorithm selection table with appropriate defaults. Your input complements the selection table.</p>
<p>To see the actual table values, set <code class="docutils literal notranslate"><span class="pre">CCL_LOG_LEVEL=info</span></code>.</p>
</section>
<section id="ccl-reduce-scatter-monolithic-pipeline-kernel-gpu-buffers-only">
<h5>CCL_REDUCE_SCATTER_MONOLITHIC_PIPELINE_KERNEL (GPU buffers only)<a class="headerlink" href="#ccl-reduce-scatter-monolithic-pipeline-kernel-gpu-buffers-only" title="Link to this heading">#</a></h5>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_REDUCE_SCATTER_MONOLITHIC_PIPELINE_KERNEL</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<div class="pst-scrollable-table-container"><table class="table table-left">
<colgroup>
<col style="width: 33.3%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>&lt;value&gt;</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">1</span></code></p></td>
<td><p>Uses compute kernels to transfer data across GPUs for the reduce-scatter phase of the <code class="docutils literal notranslate"><span class="pre">ALLREDUCE</span></code> collectives. The default value.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">0</span></code></p></td>
<td><p>Uses copy engines to transfer data across GPUs for the reduce-scatter phase of the <code class="docutils literal notranslate"><span class="pre">ALLREDUCE</span></code>.</p></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Description</strong></p>
<p>Set this environment variable to use GPU buffers to specify how to perform the reduce_scatter portion of the scale-up <code class="docutils literal notranslate"><span class="pre">ALLREDUCE</span></code> collective.
This variable allows you to choose between using compute kernels or copy engines.</p>
<p>This option is only available if <code class="docutils literal notranslate"><span class="pre">CCL_ALLREDUCE=topo</span></code> (the default for GPU buffers).</p>
</section>
<section id="ccl-allgatherv-monolithic-pipeline-kernel-gpu-buffers-only">
<h5>CCL_ALLGATHERV_MONOLITHIC_PIPELINE_KERNEL (GPU buffers only)<a class="headerlink" href="#ccl-allgatherv-monolithic-pipeline-kernel-gpu-buffers-only" title="Link to this heading">#</a></h5>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_ALLGATHERV_MONOLITHIC_PIPELINE_KERNEL</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<div class="pst-scrollable-table-container"><table class="table table-left">
<colgroup>
<col style="width: 33.3%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>&lt;value&gt;</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">1</span></code></p></td>
<td><p>Uses compute kernels to transfer data across GPUs for the allgather phase of <code class="docutils literal notranslate"><span class="pre">ALLREDUCE</span></code>. The default value.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">0</span></code></p></td>
<td><p>Uses copy engines to transfer data across GPUs for the allgather phase of the <code class="docutils literal notranslate"><span class="pre">ALLREDUCE</span></code> collective.</p></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Description</strong></p>
<p><code class="docutils literal notranslate"><span class="pre">ALLREDUCE</span></code> is implemented as a reduce-scatter phase followed by an allgather phase.</p>
<p>Set this environment variable to use GPU buffers to specify how to perform the
allgather portion of the scale-up <code class="docutils literal notranslate"><span class="pre">ALLREDUCE</span></code> collective. This environment
variable allows the user to choose between using compute kernels or using copy
engines. This option is only available if <code class="docutils literal notranslate"><span class="pre">CCL_ALLGATHERV=topo</span></code> (the default
for GPU buffers).</p>
</section>
<section id="ccl-allreduce-scaleout-gpu-buffers-only">
<h5>CCL_ALLREDUCE_SCALEOUT (GPU buffers only)<a class="headerlink" href="#ccl-allreduce-scaleout-gpu-buffers-only" title="Link to this heading">#</a></h5>
<p><strong>Syntax</strong></p>
<p>For the whole message size:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_ALLREDUCE_SCALEOUT</span><span class="o">=&lt;</span><span class="n">algo_name</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>For a specific message size range:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_ALLREDUCE_SCALEOUT</span><span class="o">=</span><span class="s">&quot;&lt;algo_name_1&gt;[:&lt;size_range_1&gt;][;&lt;algo_name_2&gt;:&lt;size_range_2&gt;][;...]&quot;</span>
</pre></div>
</div>
<p>Where:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;algo_name&gt;</span></code> is selected from the list of available collective algorithms.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;size_range&gt;</span></code> is described by the left and the right size borders the
<code class="docutils literal notranslate"><span class="pre">&lt;left&gt;-&lt;right&gt;</span></code> format. The size is specified in bytes. To specify the maximum message size, use the reserved word max.</p></li>
</ul>
<p><strong>Example</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_ALLREDUCE_SCALEOUT</span><span class="o">=</span><span class="s">&quot;recursive_doubling:0-8192;rabenseifner:8193-1048576;ring:1048577-max</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<div class="pst-scrollable-table-container"><table class="table table-left">
<colgroup>
<col style="width: 33.3%" />
<col style="width: 66.7%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">direct</span></code></p></td>
<td><p>Based on <code class="docutils literal notranslate"><span class="pre">MPI_allreduce</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">rabenseifner</span></code></p></td>
<td><p>Rabenseifner algorithm.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">nreduce</span></code></p></td>
<td><p>May be beneficial for imbalanced workloads.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ring</span></code></p></td>
<td><p>reduce_scatter + allgather ring. Use <code class="docutils literal notranslate"><span class="pre">CCL_RS_CHUNK_COUNT</span></code> and <code class="docutils literal notranslate"><span class="pre">CCL_RS_MIN_CHUNK_SIZE</span></code> to control pipelining on reduce_scatter phase. The default value.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">double_tree</span></code></p></td>
<td><p>double-tree algorithm.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ring</span></code></p></td>
<td><p>Recursive doubling algorithm.</p></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Description</strong></p>
<p>Set this environment variable to use GPU buffers to specify the scaleout algorithm for ALLREDUCE.
This option is only available if <code class="docutils literal notranslate"><span class="pre">CCL_ALLREDUCE</span> <span class="pre">=</span> <span class="pre">topo</span></code> (the default for GPU buffers).</p>
<p>oneCCL internally fills the algorithm selection table with appropriate defaults. Your input complements the selection table.</p>
<p>To see the actual table values, set <code class="docutils literal notranslate"><span class="pre">CCL_LOG_LEVEL=info</span></code>.</p>
</section>
</section>
<section id="alltoall-alltoallv">
<h4>ALLTOALL, ALLTOALLV<a class="headerlink" href="#alltoall-alltoallv" title="Link to this heading">#</a></h4>
<section id="ccl-alltoall-ccl-alltoallv">
<h5>CCL_ALLTOALL, CCL_ALLTOALLV<a class="headerlink" href="#ccl-alltoall-ccl-alltoallv" title="Link to this heading">#</a></h5>
<p><strong>Syntax</strong></p>
<p>For the whole message size:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_ALLTOALL</span><span class="o">=&lt;</span><span class="n">algo_name</span><span class="o">&gt;</span><span class="w">  </span><span class="k">or</span><span class="w"> </span><span class="n">CCL_ALLTOALLV</span><span class="o">=&lt;</span><span class="n">algo_name</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>For a specific message size range:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_ALLTOALL</span><span class="o">=</span><span class="s">&quot;&lt;algo_name_1&gt;[:&lt;size_range_1&gt;][;&lt;algo_name_2&gt;:&lt;size_range_2&gt;][;...]&quot;</span>
</pre></div>
</div>
<p>or</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_ALLTOALLV</span><span class="o">=</span><span class="s">&quot;&lt;algo_name_1&gt;[:&lt;size_range_1&gt;][;&lt;algo_name_2&gt;:&lt;size_range_2&gt;][;...]&quot;</span>
</pre></div>
</div>
<p>Where:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;algo_name&gt;</span></code> is selected from the list of available collective algorithms.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;size_range&gt;</span></code> is described by the left and the right size borders in the
<code class="docutils literal notranslate"><span class="pre">&lt;left&gt;-&lt;right&gt;</span></code> format. The size is specified in bytes. To specify the maximum message size, use the reserved word max.</p></li>
</ul>
<p><strong>Example</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_ALLTOALL</span><span class="o">=</span><span class="s">&quot;naive:0-8192;scatter:8193-max&quot;</span>
</pre></div>
</div>
<p>or</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_ALLTOALLV</span><span class="o">=</span><span class="s">&quot;naive:0-8192;scatter:8193-max&quot;</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<div class="pst-scrollable-table-container"><table class="table table-left">
<colgroup>
<col style="width: 33.3%" />
<col style="width: 66.7%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">topo</span></code></p></td>
<td><p>Topology-aware algorithm. The default for GPU buffers. Not available for CPU buffers.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">direct</span></code></p></td>
<td><p>Based on <code class="docutils literal notranslate"><span class="pre">MPI_Ialltoall</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">naive</span></code></p></td>
<td><p>Send to all, receive from all.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">scatter</span></code></p></td>
<td><p>scatter-based algorithm.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="ccl-alltoallv-monolithic-kernel">
<h5>CCL_ALLTOALLV_MONOLITHIC_KERNEL<a class="headerlink" href="#ccl-alltoallv-monolithic-kernel" title="Link to this heading">#</a></h5>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_ALLTOALLV_MONOLITHIC_KERNEL</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<div class="pst-scrollable-table-container"><table class="table table-left">
<colgroup>
<col style="width: 33.3%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>&lt;value&gt;</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">1</span></code></p></td>
<td><p>Uses compute kernels to transfer data across GPUs for the allgather phase of the <code class="docutils literal notranslate"><span class="pre">ALLTOALL</span></code> and <code class="docutils literal notranslate"><span class="pre">ALLTOALLV</span></code> collectives. The default value.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">0</span></code></p></td>
<td><p>Uses copy engines to transfer data across GPUs for the allgather phase of the <code class="docutils literal notranslate"><span class="pre">ALLTOALL</span></code> and <code class="docutils literal notranslate"><span class="pre">ALLTOALLV</span></code> collectives.</p></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Description</strong></p>
<p>Set this environment variable to use GPU buffers to specify the scale-up algorithm for <code class="docutils literal notranslate"><span class="pre">ALLTOALL</span></code> or <code class="docutils literal notranslate"><span class="pre">ALLTOALLV</span></code>
This environment variable allows the user to choose between using compute kernels or using copy engines.</p>
<p>This option is only available if <code class="docutils literal notranslate"><span class="pre">CCL_ALLTOALL=topo</span></code> or <code class="docutils literal notranslate"><span class="pre">CCL_ALLTOALLV=topo</span></code>. The default for GPU buffers.</p>
</section>
<section id="ccl-alltoall-scaleout-ccl-scaleout-alltoallv-scaleout">
<h5>CCL_ALLTOALL_SCALEOUT, CCL_scaleout_ALLTOALLV_scaleout<a class="headerlink" href="#ccl-alltoall-scaleout-ccl-scaleout-alltoallv-scaleout" title="Link to this heading">#</a></h5>
<p><strong>Syntax</strong></p>
<p>For the whole message size:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_ALLTOALL_SCALEOUT</span><span class="o">=&lt;</span><span class="n">algo_name</span><span class="o">&gt;</span><span class="w">  </span><span class="k">or</span><span class="w"> </span><span class="n">CCL_ALLTOALLV_SCALEOUT</span><span class="o">=&lt;</span><span class="n">algo_name</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>For a specific message size range:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_ALLTOALL_SCALEOUT</span><span class="o">=</span><span class="s">&quot;&lt;algo_name_1&gt;[:&lt;size_range_1&gt;][;&lt;algo_name_2&gt;:&lt;size_range_2&gt;][;...]&quot;</span>
</pre></div>
</div>
<p>or</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_ALLTOALLV_SCALEOUT</span><span class="o">=</span><span class="s">&quot;&lt;algo_name_1&gt;[:&lt;size_range_1&gt;][;&lt;algo_name_2&gt;:&lt;size_range_2&gt;][;...]&quot;</span>
</pre></div>
</div>
<p>Where:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;algo_name&gt;</span></code> is selected from the list of available collective algorithms.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;size_range&gt;</span></code> is described by the left and the right size borders in a
format <code class="docutils literal notranslate"><span class="pre">&lt;left&gt;-&lt;right&gt;</span></code>. The size is specified in bytes. To specify the maximum message size, use the reserved word <code class="docutils literal notranslate"><span class="pre">max</span></code>.</p></li>
</ul>
<p><strong>Example</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_ALLTOALL_SCALEOUT</span><span class="o">=</span><span class="s">&quot;naive:0-8192;scatter:8193-max&quot;</span>
</pre></div>
</div>
<p>or</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_ALLTOALLV_SCALEOUT</span><span class="o">=</span><span class="s">&quot;naive:0-8192;scatter:8193-max&quot;</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<div class="pst-scrollable-table-container"><table class="table table-left">
<colgroup>
<col style="width: 33.3%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>&lt;algo_name&gt;</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">naive</span></code></p></td>
<td><p>Send to all, receive from all.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">scatter</span></code></p></td>
<td><p>scatter-based algorithm. The default value.</p></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Description</strong></p>
<p>Set this environment variable to use GPU buffers to specify the scaleout algorithm for <code class="docutils literal notranslate"><span class="pre">ALLTOALL</span></code> or <code class="docutils literal notranslate"><span class="pre">ALLTOALLV</span></code>.
This option is only available if <code class="docutils literal notranslate"><span class="pre">CCL_ALLTOALL=topo</span></code> or <code class="docutils literal notranslate"><span class="pre">CCL_ALLTOALLV=topo</span></code> (the default for GPU buffers).</p>
<p>oneCCL internally fills the algorithm selection table with appropriate defaults. Your input complements the selection table.</p>
<p>To see the actual table values, set <code class="docutils literal notranslate"><span class="pre">CCL_LOG_LEVEL=info</span></code>.</p>
</section>
</section>
<section id="barrier">
<h4>BARRIER<a class="headerlink" href="#barrier" title="Link to this heading">#</a></h4>
<section id="ccl-barrier">
<h5>CCL_BARRIER<a class="headerlink" href="#ccl-barrier" title="Link to this heading">#</a></h5>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_BARRIER</span><span class="o">=&lt;</span><span class="n">algo_name</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<div class="pst-scrollable-table-container"><table class="table table-left">
<colgroup>
<col style="width: 33.3%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>&lt;algo_name&gt;</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">direct</span></code></p></td>
<td><p>Based on <code class="docutils literal notranslate"><span class="pre">MPI_Ibarrier</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ring</span></code></p></td>
<td><p>Ring-based algorithm.</p></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Description</strong></p>
<p>Use this environment variable to select the barrier algorithm.</p>
</section>
</section>
<section id="broadcast">
<h4>BROADCAST<a class="headerlink" href="#broadcast" title="Link to this heading">#</a></h4>
<section id="ccl-bcast">
<h5>CCL_BCAST<a class="headerlink" href="#ccl-bcast" title="Link to this heading">#</a></h5>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_BCAST</span><span class="o">=&lt;</span><span class="n">algo_name</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<div class="pst-scrollable-table-container"><table class="table table-left">
<colgroup>
<col style="width: 33.3%" />
<col style="width: 66.7%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>&lt;algo_name&gt;</p></td>
<td><p>Description</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">topo</span></code></p></td>
<td><p>Topology-aware algorithm. The default for GPU buffers. Not available for CPU buffers.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">direct</span></code></p></td>
<td><p>Based on&#8239;MPI_Ibcast.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ring</span></code></p></td>
<td><p>ring-based algorithm.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">double_tree</span></code></p></td>
<td><p>double-tree algorithm.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">naive</span></code></p></td>
<td><p>Send to all from root rank.</p></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Description</strong></p>
<p>Use this environment variable to select the algorithm used for broadcast.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <code class="docutils literal notranslate"><span class="pre">BCAST</span></code> algorithm does not yet support the <code class="docutils literal notranslate"><span class="pre">CCL_BCAST_scaleout</span></code>
environment variable. To change the algorithm for <code class="docutils literal notranslate"><span class="pre">BCAST</span></code>, use the <code class="docutils literal notranslate"><span class="pre">CCL_BCAST</span></code> environment variable.</p>
</div>
</section>
</section>
<section id="reduce">
<h4>REDUCE<a class="headerlink" href="#reduce" title="Link to this heading">#</a></h4>
<section id="ccl-reduce">
<h5>CCL_REDUCE<a class="headerlink" href="#ccl-reduce" title="Link to this heading">#</a></h5>
<p><strong>Syntax</strong></p>
<p>For the whole message size:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_REDUCE</span><span class="o">=&lt;</span><span class="n">algo_name</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>For a specific message size range:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_REDUCE</span><span class="o">=</span><span class="s">&quot;&lt;algo_name_1&gt;[:&lt;size_range_1&gt;][;&lt;algo_name_2&gt;:&lt;size_range_2&gt;][;...]&quot;</span>
</pre></div>
</div>
<p>Where:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;algo_name&gt;</span></code> is selected from the list of available collective algorithms.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;size_range&gt;</span></code> is described by the left and the right size borders in the
<code class="docutils literal notranslate"><span class="pre">&lt;left&gt;-&lt;right&gt;</span></code> format. The size is specified in bytes. To specify the maximum message size, use the reserved word max.</p></li>
</ul>
<p><strong>Example</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_REDUCE</span><span class="o">=</span><span class="s">&quot;direct:0-8192;double_tree:1048577-max&quot;</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<div class="pst-scrollable-table-container"><table class="table table-left">
<colgroup>
<col style="width: 33.3%" />
<col style="width: 66.7%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>&lt;algo_name&gt;</p></td>
<td><p>Description</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">topo</span></code></p></td>
<td><p>Topology-aware algorithm for scale-up. The default for GPU buffers. Not available for CPU buffers.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">direct</span></code></p></td>
<td><p>Based on <code class="docutils literal notranslate"><span class="pre">MPI_Ireduce</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">rabenseifner</span></code></p></td>
<td><p>Rabenseifner algorithm.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">tree</span></code></p></td>
<td><p>tree algorithm</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">double_tree</span></code></p></td>
<td><p>double-tree algorithm.</p></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Description</strong></p>
<p>Set this environment variable to specify the algorithm for <code class="docutils literal notranslate"><span class="pre">REDUCE</span></code>.</p>
<p>If using GPU buffers, select <code class="docutils literal notranslate"><span class="pre">CCL_REDUCE=topo</span></code> (the default) to use a hierarchical algorithm for scale-up data transfer across GPUs in the same node.
For GPU buffers, when selecting an algorithm different from <code class="docutils literal notranslate"><span class="pre">topo</span></code>, oneCCL copies the data to the host and follows the specified CPU algorithm.</p>
<p>oneCCL internally fills the algorithm selection table with appropriate defaults. Your input complements the selection table.</p>
<p>To see the actual table values, set <code class="docutils literal notranslate"><span class="pre">CCL_LOG_LEVEL=info</span></code>.</p>
</section>
<section id="id2">
<h5>CCL_REDUCE_SCATTER_MONOLITHIC_PIPELINE_KERNEL (GPU buffers only)<a class="headerlink" href="#id2" title="Link to this heading">#</a></h5>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_REDUCE_SCATTER_MONOLITHIC_PIPELINE_KERNEL</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<div class="pst-scrollable-table-container"><table class="table table-left">
<colgroup>
<col style="width: 33.3%" />
<col style="width: 66.7%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>&lt;value&gt;</p></td>
<td><p>Description</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">1</span></code></p></td>
<td><p>Uses compute kernels to transfer data across GPUs for the reduce-scatter phase of the <code class="docutils literal notranslate"><span class="pre">REDUCE</span></code> collective. The default value.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">0</span></code></p></td>
<td><p>Uses copy engines to transfer data across GPUs for the reduce-scatter phase of the <code class="docutils literal notranslate"><span class="pre">REDUCE</span></code> collective.</p></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Description</strong></p>
<p>Set this environment variable to use GPU buffers to specify the scale-up algorithm for <code class="docutils literal notranslate"><span class="pre">ALLREDUCE</span></code>.
This environment variable allows the user to choose between using compute kernels or using copy engines.</p>
<p>This option is only available if <code class="docutils literal notranslate"><span class="pre">CCL_REDUCE=topo</span></code> (the default for GPU buffers).</p>
</section>
<section id="ccl-reduce-scaleout-gpu-buffers-only">
<h5>CCL_REDUCE_SCALEOUT (GPU buffers only)<a class="headerlink" href="#ccl-reduce-scaleout-gpu-buffers-only" title="Link to this heading">#</a></h5>
<p><strong>Syntax</strong></p>
<p>For the whole message size:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_REDUCE_SCALEOUT</span><span class="o">=&lt;</span><span class="n">algo_name</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>For a specific message size range:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_REDUCE_SCALEOUT</span><span class="o">=</span><span class="s">&quot;&lt;algo_name_1&gt;[:&lt;size_range_1&gt;][;&lt;algo_name_2&gt;:&lt;size_range_2&gt;][;...]&quot;</span>
</pre></div>
</div>
<p>Where:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;algo_name&gt;</span></code> is selected from the list of available collective algorithms.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;size_range&gt;</span></code> is described by the left and the right size borders in
a format <code class="docutils literal notranslate"><span class="pre">&lt;left&gt;-&lt;right&gt;</span></code>. The size is specified in bytes. To specify the maximum message size, use the reserved word <code class="docutils literal notranslate"><span class="pre">max</span></code>.</p></li>
</ul>
<p><strong>Example</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_REDUCE_SCALEOUT</span><span class="o">=</span><span class="s">&quot;direct:0-8192;double_tree:1048577-max&quot;</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<div class="pst-scrollable-table-container"><table class="table table-left">
<colgroup>
<col style="width: 33.3%" />
<col style="width: 66.7%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>&lt;algo_name&gt;</p></td>
<td><p>Description</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">direct</span></code></p></td>
<td><p>Based on <code class="docutils literal notranslate"><span class="pre">MPI_Ireduce</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">rabenseifner</span></code></p></td>
<td><p>Rabenseifner algorithm.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">tree</span></code></p></td>
<td><p>tree algorithm.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">double_tree</span></code></p></td>
<td><p>double-tree algorithm. The default value.</p></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Description</strong></p>
<p>Set this environment variable to use GPU buffers to specify the scaleout algorithm for <code class="docutils literal notranslate"><span class="pre">REDUCE</span></code>.
This option is only available if <code class="docutils literal notranslate"><span class="pre">CCL_REDUCE=topo</span></code> (the default for GPU buffers).</p>
<p>oneCCL internally fills the algorithm selection table with appropriate defaults. Your input complements the selection table.</p>
<p>To see the actual table values, set <code class="docutils literal notranslate"><span class="pre">CCL_LOG_LEVEL=info</span></code>.</p>
</section>
</section>
<section id="reduce-scatter">
<h4>REDUCE SCATTER<a class="headerlink" href="#reduce-scatter" title="Link to this heading">#</a></h4>
<section id="ccl-reduce-scatter">
<h5>CCL_REDUCE_SCATTER<a class="headerlink" href="#ccl-reduce-scatter" title="Link to this heading">#</a></h5>
<p><strong>Syntax</strong></p>
<p>For the whole message size:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_REDUCE_SCATTER</span><span class="o">=&lt;</span><span class="n">algo_name</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>For a specific message size range:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_REDUCE_SCATTER</span><span class="o">=</span><span class="s">&quot;&lt;algo_name_1&gt;[:&lt;size_range_1&gt;][;&lt;algo_name_2&gt;:&lt;size_range_2&gt;][;...]&quot;</span>
</pre></div>
</div>
<p>Where:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;algo_name&gt;</span></code> is selected from the list of available collective algorithms.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;size_range&gt;</span></code> is described by the left and the right size borders in a
format <code class="docutils literal notranslate"><span class="pre">&lt;left&gt;-&lt;right&gt;</span></code>. The size is specified in bytes. To specify the maximum message size, use the reserved word <code class="docutils literal notranslate"><span class="pre">max</span></code>.</p></li>
</ul>
<p><strong>Example</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_REDUCE_SCATTER</span><span class="o">=</span><span class="s">&quot;direct:0-8192;ring:1048577-max&quot;</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<div class="pst-scrollable-table-container"><table class="table table-left">
<colgroup>
<col style="width: 33.3%" />
<col style="width: 66.7%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>&lt;algo_name&gt;</p></td>
<td><p>Description</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">topo</span></code></p></td>
<td><p>Topology-aware algorithm for scale-up. The default for GPU buffers. Not available for CPU buffers.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">direct</span></code></p></td>
<td><p>Based on <code class="docutils literal notranslate"><span class="pre">MPI_Ireduce_scatter_block</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">naive</span></code></p></td>
<td><p>Send to all, receive, and reduce from all.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ring</span></code></p></td>
<td><p>ring-based algorithm. Use <code class="docutils literal notranslate"><span class="pre">CCL_RS_CHUNK_COUNT</span></code> and <code class="docutils literal notranslate"><span class="pre">CCL_RS_MIN_CHUNK_SIZE</span></code> to control pipelining.</p></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Description</strong></p>
<p>Use this environment variable to specify the algorithm for reduce. If using GPU
buffers, select <code class="docutils literal notranslate"><span class="pre">CCL_REDUCE_SCATTER=topo</span></code> (the default) to use a hierarchical
algorithm for scale-up data transfer across GPUs in the same node. For GPU
buffers,when selecting an algorithm different from <code class="docutils literal notranslate"><span class="pre">topo</span></code>, oneCCL copies the
data to the host and follow the specified CPU algorithm.</p>
<p>oneCCL internally fills the algorithm selection table with appropriate defaults. Your input complements the selection table.</p>
<p>To see the actual table values, set <code class="docutils literal notranslate"><span class="pre">CCL_LOG_LEVEL=info</span></code>.</p>
</section>
<section id="id3">
<h5>CCL_REDUCE_SCATTER_MONOLITHIC_PIPELINE_KERNEL (GPU buffers only)<a class="headerlink" href="#id3" title="Link to this heading">#</a></h5>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_REDUCE_SCATTER_MONOLITHIC_PIPELINE_KERNEL</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<div class="pst-scrollable-table-container"><table class="table table-left">
<colgroup>
<col style="width: 33.3%" />
<col style="width: 66.7%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>&lt;value&gt;</p></td>
<td><p>Description</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">1</span></code></p></td>
<td><p>Uses compute kernels to transfer data across GPUs for the reduce-scatter phase of the <code class="docutils literal notranslate"><span class="pre">REDUCE_SCATTER</span></code> collective. The default value.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">0</span></code></p></td>
<td><p>Uses copy engines to transfer data across GPUs for the reduce-scatter phase of the <code class="docutils literal notranslate"><span class="pre">REDUCE_SCATTER</span></code> collective.</p></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Description</strong></p>
<p>Set this environment variable to use GPU buffers to specify how to perform the reduce-scatter portion of the scale-up <code class="docutils literal notranslate"><span class="pre">REDUCE_SCATTER</span></code> collective.
This environment variable allows the user to choose between using compute kernels or using copy engines.</p>
<p>This option is only available if <code class="docutils literal notranslate"><span class="pre">CCL_REDUCE_SCATTER=topo</span></code>  (the default for GPU buffers).</p>
</section>
<section id="ccl-reduce-scatter-scaleout-gpu-buffers-only">
<h5>CCL_REDUCE_SCATTER_SCALEOUT (GPU buffers only)<a class="headerlink" href="#ccl-reduce-scatter-scaleout-gpu-buffers-only" title="Link to this heading">#</a></h5>
<p><strong>Syntax</strong></p>
<p>For the whole message size:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_REDUCE_SCATTER_SCALEOUT</span><span class="o">=&lt;</span><span class="n">algo_name</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>For a specific message size range:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_REDUCE_SCATTER_SCALEOUT</span><span class="o">=</span><span class="s">&quot;&lt;algo_name_1&gt;[:&lt;size_range_1&gt;][;&lt;algo_name_2&gt;:&lt;size_range_2&gt;][;...]&quot;</span>
</pre></div>
</div>
<p>Where:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;algo_name&gt;</span></code> is selected from the list of available collective algorithms.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;size_range&gt;</span></code> is described by the left and the right size borders in a
format <code class="docutils literal notranslate"><span class="pre">&lt;left&gt;-&lt;right&gt;</span></code>. The size is specified in bytes. To specify the maximum message size, use the reserved word <code class="docutils literal notranslate"><span class="pre">max</span></code>.</p></li>
</ul>
<p><strong>Example</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_REDUCE_SCATTER_SCALEOUT</span><span class="o">=</span><span class="s">&quot;direct:0-8192;double_tree:1048577-max&quot;</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<div class="pst-scrollable-table-container"><table class="table table-left">
<colgroup>
<col style="width: 33.3%" />
<col style="width: 66.7%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>&lt;algo_name&gt;</p></td>
<td><p>Description</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">direct</span></code></p></td>
<td><p>Based on <code class="docutils literal notranslate"><span class="pre">MPI_Ireduce_scatter_block</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">naive</span></code></p></td>
<td><p>Send to all, receive, and reduce from all. The default value.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ring</span></code></p></td>
<td><p>Ring-based algorithm. Use <code class="docutils literal notranslate"><span class="pre">CCL_RS_CHUNK_COUNT</span></code> and <code class="docutils literal notranslate"><span class="pre">CCL_RS_MIN_CHUNK_SIZE</span></code> to control pipelining.</p></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Description</strong></p>
<p>Set this environment variable to use GPU buffers to specify the scaleout algorithm for <code class="docutils literal notranslate"><span class="pre">ALLREDUCE</span></code>.
This option is only available if <code class="docutils literal notranslate"><span class="pre">CCL_REDUCE_SCATTER</span> <span class="pre">=</span> <span class="pre">topo</span></code> (the default for GPU buffers).</p>
<p>oneCCL internally fills the algorithm selection table with appropriate defaults. Your input complements the selection table.</p>
<p>To see the actual table values, set <code class="docutils literal notranslate"><span class="pre">CCL_LOG_LEVEL=info</span></code>.</p>
</section>
</section>
</section>
<section id="sycl-path">
<h3>SYCL PATH<a class="headerlink" href="#sycl-path" title="Link to this heading">#</a></h3>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Starting with 2021.14, <code class="docutils literal notranslate"><span class="pre">SYCL_PATH</span></code> is the default environment variable that must be used.</p>
</div>
<section id="all-collectives">
<h4>All collectives<a class="headerlink" href="#all-collectives" title="Link to this heading">#</a></h4>
<section id="ccl-enable-sycl-kernels">
<h5>CCL_ENABLE_SYCL_KERNELS<a class="headerlink" href="#ccl-enable-sycl-kernels" title="Link to this heading">#</a></h5>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_ENABLE_SYCL_KERNELS</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<div class="pst-scrollable-table-container"><table class="table table-left">
<colgroup>
<col style="width: 33.3%" />
<col style="width: 66.7%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>&lt;value&gt;</p></td>
<td><p>Description</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">1</span></code></p></td>
<td><p>Enable SYCL kernels. The default value.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">0</span></code></p></td>
<td><p>Disable SYCL kernels.</p></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Description</strong></p>
<p>Setting this environment variable to <code class="docutils literal notranslate"><span class="pre">1</span></code> enables SYCL kernel-based implementations for <code class="docutils literal notranslate"><span class="pre">ALLGATHER</span></code>, <code class="docutils literal notranslate"><span class="pre">ALLGATHERV</span></code>, <code class="docutils literal notranslate"><span class="pre">ALLREDUCE</span></code>, <code class="docutils literal notranslate"><span class="pre">BROADCAST</span></code>, <code class="docutils literal notranslate"><span class="pre">REDUCE_SCATTER</span></code>, and <code class="docutils literal notranslate"><span class="pre">ALLTOALL</span></code>.</p>
<p>This optimization supports all message sizes and the following data types:</p>
<ul class="simple">
<li><p>int8/uint8 (for now only for <cite>send/recv</cite>)</p></li>
<li><p>int32/uint32</p></li>
<li><p>int64/uint64</p></li>
<li><p>float16</p></li>
<li><p>bfloat16</p></li>
<li><p>float32</p></li>
<li><p>float64</p></li>
<li><p>sum and average operations</p></li>
</ul>
<p>oneCCL falls back to other implementations when the support is unavailable with SYCL kernels, so that you can set up this environment variable safely.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The name of this variable in 2021.12 was <code class="docutils literal notranslate"><span class="pre">CCL_SKIP_SCHEDULER</span></code>. Starting with 2021.13, the variable has been renamed to <code class="docutils literal notranslate"><span class="pre">CCL_ENABLE_SYCL_KERNELS</span></code>.</p>
</div>
</section>
</section>
<section id="id4">
<h4>ALLGATHER/ALLGATHERV<a class="headerlink" href="#id4" title="Link to this heading">#</a></h4>
<section id="ccl-sycl-allgatherv-tmp-buf">
<h5>CCL_SYCL_ALLGATHERV_TMP_BUF<a class="headerlink" href="#ccl-sycl-allgatherv-tmp-buf" title="Link to this heading">#</a></h5>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_SYCL_ALLGATHERV_TMP_BUF</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<div class="pst-scrollable-table-container"><table class="table table-left">
<colgroup>
<col style="width: 33.3%" />
<col style="width: 66.7%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>&lt;value&gt;</p></td>
<td><p>Description</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">1</span></code></p></td>
<td><p>Uses a persistent temporary buffer to perform the <code class="docutils literal notranslate"><span class="pre">ALLGATHER</span></code>/ <code class="docutils literal notranslate"><span class="pre">ALLGATHERV</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">0</span></code></p></td>
<td><p>Performs an IPC handle exchange, avoiding copies to temporary buffers. Default value.</p></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Description</strong></p>
<p>Specifies if the <code class="docutils literal notranslate"><span class="pre">ALLGATHER</span></code>/ <code class="docutils literal notranslate"><span class="pre">ALLGATHERV</span></code> implementation should use a persistent temporary buffer or not. The implementation with temporary buffers makes the collective fully asynchronous, but adds some additional overhead due to the extra copy of the user buffer to a (persistent) temporary buffer. The current default uses Level Zero IPC to avoid the copies to the temporary buffer.</p>
</section>
<section id="ccl-sycl-allgatherv-small-threshold">
<h5>CCL_SYCL_ALLGATHERV_SMALL_THRESHOLD<a class="headerlink" href="#ccl-sycl-allgatherv-small-threshold" title="Link to this heading">#</a></h5>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_SYCL_ALLGATHERV_SMALL_THRESHOLD</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<div class="pst-scrollable-table-container"><table class="table table-left">
<colgroup>
<col style="width: 33.3%" />
<col style="width: 66.7%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>&lt;value&gt;</p></td>
<td><p>Description</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">&gt;=0</span></code></p></td>
<td><p>Threshold in bytes to specify the small size algorithm. Default value <code class="docutils literal notranslate"><span class="pre">131072</span></code>.</p></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Description</strong></p>
<p><code class="docutils literal notranslate"><span class="pre">ALLGATHER</span></code>/ <code class="docutils literal notranslate"><span class="pre">ALLGATHERV</span></code> collectives with message sizes smaller than the specified threshold will use an algorithm specialized for small-sized messages.</p>
</section>
<section id="ccl-sycl-allgatherv-scaleout-threshold">
<h5>CCL_SYCL_ALLGATHERV_SCALEOUT_THRESHOLD<a class="headerlink" href="#ccl-sycl-allgatherv-scaleout-threshold" title="Link to this heading">#</a></h5>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_SYCL_ALLGATHERV_SCALEOUT_THRESHOLD</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<div class="pst-scrollable-table-container"><table class="table table-left">
<colgroup>
<col style="width: 33.3%" />
<col style="width: 66.7%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>&lt;value&gt;</p></td>
<td><p>Description</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">&gt;=0</span></code></p></td>
<td><p>Threshold in bytes to specify when scale-out <code class="docutils literal notranslate"><span class="pre">ALLGATHER</span></code>/ <code class="docutils literal notranslate"><span class="pre">ALLGATHERV</span></code> uses SYCL kernel-based implementation. Default value is <code class="docutils literal notranslate"><span class="pre">1048576</span></code>.</p></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Description</strong></p>
<p>For <code class="docutils literal notranslate"><span class="pre">ALLGATHER</span></code>/ <code class="docutils literal notranslate"><span class="pre">ALLGATHERV</span></code> collectives, when <code class="docutils literal notranslate"><span class="pre">send_count</span> <span class="pre">*</span> <span class="pre">#nodes</span></code> is below this threshold in bytes, the SYCL path is chosen to execute the collective operation. For message sizes exceeding this threshold, the implementation will switch to the Level Zero Path.</p>
</section>
</section>
<section id="id5">
<h4>ALLREDUCE<a class="headerlink" href="#id5" title="Link to this heading">#</a></h4>
<section id="ccl-sycl-allreduce-tmp-buf">
<h5>CCL_SYCL_ALLREDUCE_TMP_BUF<a class="headerlink" href="#ccl-sycl-allreduce-tmp-buf" title="Link to this heading">#</a></h5>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_SYCL_ALLREDUCE_TMP_BUF</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<div class="pst-scrollable-table-container"><table class="table table-left">
<colgroup>
<col style="width: 33.3%" />
<col style="width: 66.7%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>&lt;value&gt;</p></td>
<td><p>Description</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">1</span></code></p></td>
<td><p>Uses a persistent temporary buffer to perform the <code class="docutils literal notranslate"><span class="pre">ALLREDUCE</span></code> operation.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">0</span></code></p></td>
<td><p>Performs an IPC handle exchange, avoiding copies to temporary buffers. Default value.</p></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Description</strong></p>
<p>Specifies whether the <code class="docutils literal notranslate"><span class="pre">ALLREDUCE</span></code> implementation should use a persistent temporary buffer. The implementation with temporary buffers makes the collective fully asynchronous, but adds some additional overhead due to the extra copy of the user buffer to a (persistent) temporary buffer. The current default uses Level Zero IPC support to avoid the copies to the temporary buffer.</p>
</section>
<section id="ccl-sycl-allreduce-small-threshold">
<h5>CCL_SYCL_ALLREDUCE_SMALL_THRESHOLD<a class="headerlink" href="#ccl-sycl-allreduce-small-threshold" title="Link to this heading">#</a></h5>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_ALLREDUCE_SMALL_THRESHOLD</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<div class="pst-scrollable-table-container"><table class="table table-left">
<colgroup>
<col style="width: 33.3%" />
<col style="width: 66.7%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>&lt;value&gt;</p></td>
<td><p>Description</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">&gt;=0</span></code></p></td>
<td><p>Threshold in bytes to specify the small size algorithm. Default value is <code class="docutils literal notranslate"><span class="pre">524288</span></code>.</p></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Description</strong></p>
<p><code class="docutils literal notranslate"><span class="pre">ALLREDUCE</span></code> collective with message sizes smaller than the specified threshold will use an algorithm specialized for small-sized messages.</p>
</section>
<section id="ccl-sycl-allreduce-scaleout-threshold">
<h5>CCL_SYCL_ALLREDUCE_SCALEOUT_THRESHOLD<a class="headerlink" href="#ccl-sycl-allreduce-scaleout-threshold" title="Link to this heading">#</a></h5>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_SYCL_ALLREDUCE_SCALEOUT_THRESHOLD</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<div class="pst-scrollable-table-container"><table class="table table-left">
<colgroup>
<col style="width: 33.3%" />
<col style="width: 66.7%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>&lt;value&gt;</p></td>
<td><p>Description</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">&gt;=0</span></code></p></td>
<td><p>Threshold in bytes to specify when scale-out allreduce uses SYCL kernel-based implementation. Default value is <code class="docutils literal notranslate"><span class="pre">4294967296</span></code> (4GB in bytes).</p></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Description</strong></p>
<p>For <code class="docutils literal notranslate"><span class="pre">ALLREDUCE</span></code> collectives, with message sizes below this threshold in bytes, the SYCL path is chosen to execute the collective operation. For message sizes exceeding this threshold, the implementation will switch to the Level Zero Path.</p>
</section>
<section id="ccl-sycl-allreduce-scaleout-direct-threshold">
<h5>CCL_SYCL_ALLREDUCE_SCALEOUT_DIRECT_THRESHOLD<a class="headerlink" href="#ccl-sycl-allreduce-scaleout-direct-threshold" title="Link to this heading">#</a></h5>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <code class="docutils literal notranslate"><span class="pre">CCL_SYCL_ALLREDUCE_SCALEOUT_DIRECT_THRESHOLD</span></code> environment variable is available _only_ in 2021.14. Starting with 2021.15 and later, the variable is deprecated.</p>
</div>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_SYCL_ALLREDUCE_SCALEOUT_DIRECT_THRESHOLD</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<div class="pst-scrollable-table-container"><table class="table table-left">
<colgroup>
<col style="width: 33.3%" />
<col style="width: 66.7%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>&lt;value&gt;</p></td>
<td><p>Description</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">&gt;=0</span></code></p></td>
<td><p>Threshold in bytes to specify when allreduce collective selects direct <code class="docutils literal notranslate"><span class="pre">MPI_Iallreduce</span></code> for the scale-out phase of the collective. Default value is <code class="docutils literal notranslate"><span class="pre">1048576</span></code>.</p></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Description</strong></p>
<p>For allreduce collectives with message sizes below this threshold in bytes, <code class="docutils literal notranslate"><span class="pre">MPI_Iallreduce</span></code> direct algorithm is selected as scale-out phase of the colllective. For message sizes above this threshold and under the <code class="docutils literal notranslate"><span class="pre">CCL_SYCL_ALLREDUCE_SCALEOUT_THRESHOLD</span></code>, the default algorithm (ring) is selected.</p>
</section>
<section id="ccl-sycl-allreduce-scaleout">
<h5>CCL_SYCL_ALLREDUCE_SCALEOUT<a class="headerlink" href="#ccl-sycl-allreduce-scaleout" title="Link to this heading">#</a></h5>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_SYCL_ALLREDUCE_SCALEOUT</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<div class="pst-scrollable-table-container"><table class="table table-left">
<colgroup>
<col style="width: 33.3%" />
<col style="width: 66.7%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>&lt;value&gt;</p></td>
<td><p>Description</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">auto</span></code></p></td>
<td><p>Default value. This value will be automatically selected.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">direct</span></code></p></td>
<td><p>Based on <code class="docutils literal notranslate"><span class="pre">MPI_Iallreduce</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">rabenseifner</span></code></p></td>
<td><p>Selects the Rabenseifner algorithm</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ring</span></code></p></td>
<td><p>Ring implementation based on ring <code class="docutils literal notranslate"><span class="pre">REDUCE_SCATTER</span></code> followed by ring <code class="docutils literal notranslate"><span class="pre">ALLGATHER</span></code>.</p></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Description</strong></p>
<p>Use this environment variable to specify the algorithm for <code class="docutils literal notranslate"><span class="pre">ALLREDUCE</span></code>. Currently, the selected algorithm is used for all message sizes.</p>
</section>
</section>
<section id="id6">
<h4>BROADCAST<a class="headerlink" href="#id6" title="Link to this heading">#</a></h4>
<section id="ccl-sycl-broadcast-tmp-buf">
<h5>CCL_SYCL_BROADCAST_TMP_BUF<a class="headerlink" href="#ccl-sycl-broadcast-tmp-buf" title="Link to this heading">#</a></h5>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_SYCL_BROADCAST_TMP_BUF</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<div class="pst-scrollable-table-container"><table class="table table-left">
<colgroup>
<col style="width: 33.3%" />
<col style="width: 66.7%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>&lt;value&gt;</p></td>
<td><p>Description</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">1</span></code></p></td>
<td><p>Uses a persistent temporary buffer to perform the <cite>BROADCAST</cite> operation.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">0</span></code></p></td>
<td><p>Performs an IPC handle exchange, avoiding copies to temporary buffers. Default value.</p></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Description</strong></p>
<p>Specifies if the <code class="docutils literal notranslate"><span class="pre">BROADCAST</span></code> implementation should use a persistent temporary buffer or not. The implementation with temporary buffers makes the collective fully asynchronous, but adds some additional overhead due to the extra copy of the user buffer to a (persistent) temporary buffer. The current default uses Level Zero IPC support to avoid the copies to the temporary buffer.</p>
</section>
<section id="ccl-sycl-broadcast-small-threshold">
<h5>CCL_SYCL_BROADCAST_SMALL_THRESHOLD<a class="headerlink" href="#ccl-sycl-broadcast-small-threshold" title="Link to this heading">#</a></h5>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_SYCL_BROADCAST_SMALL_THRESHOLD</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<div class="pst-scrollable-table-container"><table class="table table-left">
<colgroup>
<col style="width: 33.3%" />
<col style="width: 66.7%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>&lt;value&gt;</p></td>
<td><p>Description</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">&gt;=0</span></code></p></td>
<td><p>Threshold in bytes to specify the small-size algorithm. Default value is <cite>524288</cite>.</p></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Description</strong></p>
<p><cite>BROADCAST</cite> collectives with message sizes smaller than the specified threshold will use an algorithm specialized for small-sized messages.</p>
</section>
<section id="ccl-sycl-broadcast-scaleout-threshold">
<h5>CCL_SYCL_BROADCAST_SCALEOUT_THRESHOLD<a class="headerlink" href="#ccl-sycl-broadcast-scaleout-threshold" title="Link to this heading">#</a></h5>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_SYCL_BROADCAST_SCALEOUT_THRESHOLD</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<div class="pst-scrollable-table-container"><table class="table table-left">
<colgroup>
<col style="width: 33.3%" />
<col style="width: 66.7%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>&lt;value&gt;</p></td>
<td><p>Description</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">&gt;=0</span></code></p></td>
<td><p>Threshold in bytes to specify when scale-out broadcast uses SYCL kernel-based implementation. Default value is <cite>4294967296</cite> (<cite>4GiB</cite> in bytes).</p></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Description</strong></p>
<p>For <cite>BROADCAST</cite> collectives, with message sizes below this threshold in bytes, the SYCL path is chosen to execute the collective operation. For message sizes exceeding this threshold, the implementation will switch to the Level Zero Path.</p>
</section>
</section>
<section id="id7">
<h4>REDUCE SCATTER<a class="headerlink" href="#id7" title="Link to this heading">#</a></h4>
<section id="ccl-sycl-reduce-scatter-tmp-buf">
<h5>CCL_SYCL_REDUCE_SCATTER_TMP_BUF<a class="headerlink" href="#ccl-sycl-reduce-scatter-tmp-buf" title="Link to this heading">#</a></h5>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_SYCL_REDUCE_SCATTER_TMP_BUF</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<div class="pst-scrollable-table-container"><table class="table table-left">
<colgroup>
<col style="width: 33.3%" />
<col style="width: 66.7%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>&lt;value&gt;</p></td>
<td><p>Description</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">1</span></code></p></td>
<td><p>Uses a persistent temporary buffer to perform the <code class="docutils literal notranslate"><span class="pre">REDUCE_SCATTER</span></code> operation.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">0</span></code></p></td>
<td><p>Performs an IPC handle exchange, avoiding copies to temporary buffers. Default value.</p></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Description</strong></p>
<p>Specifies if the <code class="docutils literal notranslate"><span class="pre">REDUCE_SCATTER</span></code> implementation should use a persistent temporary buffer or not. The implementation with temporary buffers makes the collective fully asynchronous, but adds some additional overhead due to the extra copy of the user buffer to a (persistent) temporary buffer. The current default uses Level Zero IPC support to avoid the copies to the temporary buffer.</p>
</section>
<section id="ccl-sycl-reduce-scatter-small-threshold">
<h5>CCL_SYCL_REDUCE_SCATTER_SMALL_THRESHOLD<a class="headerlink" href="#ccl-sycl-reduce-scatter-small-threshold" title="Link to this heading">#</a></h5>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_SYCL_REDUCE_SCATTER_SMALL_THRESHOLD</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<div class="pst-scrollable-table-container"><table class="table table-left">
<colgroup>
<col style="width: 33.3%" />
<col style="width: 66.7%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>&lt;value&gt;</p></td>
<td><p>Description</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">&gt;=0</span></code></p></td>
<td><p>Threshold in bytes to specify the small-size algorithm. Default value is <code class="docutils literal notranslate"><span class="pre">2097152</span></code>.</p></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Description</strong></p>
<p><code class="docutils literal notranslate"><span class="pre">REDUCE_SCATTER</span></code> collectives with message sizes smaller than the specified threshold will use an algorithm specialized for small-sized messages.</p>
</section>
<section id="ccl-sycl-reduce-scatter-scaleout-direct-threshold">
<h5>CCL_SYCL_REDUCE_SCATTER_SCALEOUT_DIRECT_THRESHOLD<a class="headerlink" href="#ccl-sycl-reduce-scatter-scaleout-direct-threshold" title="Link to this heading">#</a></h5>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <code class="docutils literal notranslate"><span class="pre">CCL_SYCL_REDUCE_SCATTER_SCALEOUT_DIRECT_THRESHOLD</span></code> environment variable is available _only_ in 2021.14. Starting with 2021.15 and later, this variable is deprecated.</p>
</div>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_SYCL_REDUCE_SCATTER_SCALEOUT_DIRECT_THRESHOLD</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<div class="pst-scrollable-table-container"><table class="table table-left">
<colgroup>
<col style="width: 33.3%" />
<col style="width: 66.7%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>&lt;value&gt;</p></td>
<td><p>Description</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">&gt;=0</span></code></p></td>
<td><p>Threshold in bytes to specify when reduce-scatter collective selects direct <code class="docutils literal notranslate"><span class="pre">MPI_Ireduce_scatter</span></code> as scale-out phase algorithm. Default value is <code class="docutils literal notranslate"><span class="pre">1048576</span></code>.</p></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Description</strong></p>
<p>For reduce-scatter collectives with message sizes below this threshold in bytes, <code class="docutils literal notranslate"><span class="pre">MPI_Ireduce_scatter</span></code> direct algorithm is selected for the scale-out phase of the collective. For message sizes above this threshold and under the <code class="docutils literal notranslate"><span class="pre">CCL_SYCL_REDUCE_SCATTER_SCALEOUT_THRESHOLD</span></code>, the default algorithm (ring) is selected.</p>
</section>
<section id="ccl-sycl-reduce-scatter-scaleout">
<h5>CCL_SYCL_REDUCE_SCATTER_SCALEOUT<a class="headerlink" href="#ccl-sycl-reduce-scatter-scaleout" title="Link to this heading">#</a></h5>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_SYCL_REDUCE_SCATTER_SCALEOUT</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<div class="pst-scrollable-table-container"><table class="table table-left">
<colgroup>
<col style="width: 33.3%" />
<col style="width: 66.7%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>&lt;value&gt;</p></td>
<td><p>Description</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">auto</span></code></p></td>
<td><p>Default value. This value will be automatically selected.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">direct</span></code></p></td>
<td><p>Based on <code class="docutils literal notranslate"><span class="pre">MPI_Ireduce_scatter</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ring</span></code></p></td>
<td><p>Ring implementation.</p></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Description</strong></p>
<p>Use this environment variable to specify the algorithm for <code class="docutils literal notranslate"><span class="pre">REDUCE_SCATTER</span></code>. Currently, the selected algorithm is used for all message sizes.</p>
</section>
<section id="ccl-sycl-reduce-scatter-scaleout-threshold">
<h5>CCL_SYCL_REDUCE_SCATTER_SCALEOUT_THRESHOLD<a class="headerlink" href="#ccl-sycl-reduce-scatter-scaleout-threshold" title="Link to this heading">#</a></h5>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_SYCL_REDUCE_SCATTER_SCALEOUT_THRESHOLD</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<div class="pst-scrollable-table-container"><table class="table table-left">
<colgroup>
<col style="width: 33.3%" />
<col style="width: 66.7%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>&lt;value&gt;</p></td>
<td><p>Description</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">&gt;=0</span></code></p></td>
<td><p>Threshold in bytes to specify when scale-out <code class="docutils literal notranslate"><span class="pre">REDUCE_SCATTER</span></code> uses SYCL kernel-based implementation. Default value is <code class="docutils literal notranslate"><span class="pre">4294967296</span></code> (4GB in bytes).</p></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Description</strong></p>
<p>For <code class="docutils literal notranslate"><span class="pre">REDUCE_SCATTER</span></code> collectives with message sizes below this threshold in bytes, the SYCL path is chosen to execute the collective operation. For message sizes exceeding this threshold, the implementation will switch to the Level Zero Path.</p>
</section>
</section>
</section>
</section>
<section id="workers">
<h2>Workers<a class="headerlink" href="#workers" title="Link to this heading">#</a></h2>
<p>The group of environment variables to control worker threads.</p>
<section id="ccl-worker-count">
<span id="id8"></span><h3>CCL_WORKER_COUNT<a class="headerlink" href="#ccl-worker-count" title="Link to this heading">#</a></h3>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_WORKER_COUNT</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<div class="pst-scrollable-table-container"><table class="table table-left">
<colgroup>
<col style="width: 33.3%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>&lt;value&gt;</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">N</span></code></p></td>
<td><p>The number of worker threads for oneCCL rank (<code class="docutils literal notranslate"><span class="pre">1</span></code> if not specified).</p></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Description</strong></p>
<p>Set this environment variable to specify the number of oneCCL worker threads. For GPU buffers, currently we do not recommend setting this variable to values larger than <code class="docutils literal notranslate"><span class="pre">1</span></code>.</p>
</section>
<section id="ccl-worker-affinity">
<span id="id9"></span><h3>CCL_WORKER_AFFINITY<a class="headerlink" href="#ccl-worker-affinity" title="Link to this heading">#</a></h3>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_WORKER_AFFINITY</span><span class="o">=&lt;</span><span class="n">cpulist</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<div class="pst-scrollable-table-container"><table class="table table-left">
<colgroup>
<col style="width: 33.3%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>&lt;cpulist&gt;</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">auto</span></code></p></td>
<td><p>Workers are automatically pinned to last cores of pin domain.
Pin domain depends from process launcher.
If <code class="docutils literal notranslate"><span class="pre">mpirun</span></code> from oneCCL package is used then pin domain is MPI process pin domain.
Otherwise, pin domain is all cores on the node.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">&lt;cpulist&gt;</span></code></p></td>
<td><p>A comma-separated list of core numbers and/or ranges of core numbers for all local workers, one number per worker.
The i-th local worker is pinned to the i-th core in the list.
For example <code class="docutils literal notranslate"><span class="pre">&lt;a&gt;,&lt;b&gt;-&lt;c&gt;</span></code> defines list of cores containing core with number <code class="docutils literal notranslate"><span class="pre">&lt;a&gt;</span></code>
and range of cores with numbers from <code class="docutils literal notranslate"><span class="pre">&lt;b&gt;</span></code> to <code class="docutils literal notranslate"><span class="pre">&lt;c&gt;</span></code>.
The core number should not exceed the number of cores available on the system. The length of the list should be equal to the number of workers.</p></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Description</strong></p>
<p>Set this environment variable to specify cpu affinity for oneCCL worker threads.</p>
</section>
<section id="ccl-worker-mem-affinity">
<h3>CCL_WORKER_MEM_AFFINITY<a class="headerlink" href="#ccl-worker-mem-affinity" title="Link to this heading">#</a></h3>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_WORKER_MEM_AFFINITY</span><span class="o">=&lt;</span><span class="n">nodelist</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<div class="pst-scrollable-table-container"><table class="table table-left">
<colgroup>
<col style="width: 33.3%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>&lt;nodelist&gt;</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">auto</span></code></p></td>
<td><p>Workers are automatically pinned to NUMA nodes that correspond to CPU affinity of workers.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">&lt;nodelist&gt;</span></code></p></td>
<td><p>A comma-separated list of NUMA node numbers for all local workers, one number per worker.
The i-th local worker is pinned to the i-th NUMA node in the list.
The number should not exceed the number of NUMA nodes available on the system.</p></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Description</strong></p>
<p>Set this environment variable to specify memory affinity for oneCCL worker threads.</p>
</section>
</section>
<section id="kvs">
<h2>KVS<a class="headerlink" href="#kvs" title="Link to this heading">#</a></h2>
<section id="ccl-kvs-mode">
<h3>CCL_KVS_MODE<a class="headerlink" href="#ccl-kvs-mode" title="Link to this heading">#</a></h3>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_KVS_MODE</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<div class="pst-scrollable-table-container"><table class="table table-left">
<colgroup>
<col style="width: 33.3%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>&lt;cpulist&gt;</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">pmi</span></code></p></td>
<td><p>PMI transport (default)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">mpi</span></code></p></td>
<td><p>MPI transport</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">pmix_ofi</span></code></p></td>
<td><p>Enable PMIx operations (put/get/fence/commit) in the OFI transport path, bypassing the default KVS layer.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">pmix_ofi_shm</span></code></p></td>
<td><p>An optimized variant of <code class="docutils literal notranslate"><span class="pre">pmix_ofi</span></code> that uses shared memory transfers for intra-node (scale-up) communication while retaining PMIx put/get/fence for scale-out.</p></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Description</strong></p>
<p>Set the <code class="docutils literal notranslate"><span class="pre">CCL_KVS_MODE</span></code> environment variable to choose the key-value store mechanism used during communicator creation. For the MPI-based transport (<code class="docutils literal notranslate"><span class="pre">CCL_ATL_TRANSPORT=mpi</span></code>), use <code class="docutils literal notranslate"><span class="pre">mpi</span></code>. For large-scale runs with the OFI transport and PMIx (<code class="docutils literal notranslate"><span class="pre">CCL_ATL_TRANSPORT=ofi</span></code> and <code class="docutils literal notranslate"><span class="pre">CCL_PROCESS_LAUNCHER=pmix</span></code>), we recommend using <code class="docutils literal notranslate"><span class="pre">pmix_ofi</span></code> or <code class="docutils literal notranslate"><span class="pre">pmix_ofi_shm</span></code>. The <code class="docutils literal notranslate"><span class="pre">pmix_ofi</span></code> modes bypass the default KVS layer in favor of the PMIx operations (put/get/fence/commit) and can yield performance benefits, especially at scale.</p>
</section>
</section>
<section id="atl">
<h2>ATL<a class="headerlink" href="#atl" title="Link to this heading">#</a></h2>
<p>The group of environment variables to control ATL (abstract transport layer).</p>
<section id="ccl-atl-transport">
<span id="id10"></span><h3>CCL_ATL_TRANSPORT<a class="headerlink" href="#ccl-atl-transport" title="Link to this heading">#</a></h3>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_ATL_TRANSPORT</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<div class="pst-scrollable-table-container"><table class="table table-left">
<colgroup>
<col style="width: 33.3%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>&lt;value&gt;</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">mpi</span></code></p></td>
<td><p>MPI transport (<strong>default</strong>).</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ofi</span></code></p></td>
<td><p>OFI (libfabric*) transport.</p></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Description</strong></p>
<p>Set this environment variable to select the transport for inter-process communications.</p>
</section>
<section id="ccl-atl-hmem">
<h3>CCL_ATL_HMEM<a class="headerlink" href="#ccl-atl-hmem" title="Link to this heading">#</a></h3>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_ATL_HMEM</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<div class="pst-scrollable-table-container"><table class="table table-left">
<colgroup>
<col style="width: 33.3%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>&lt;value&gt;</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">1</span></code></p></td>
<td><p>Enable heterogeneous memory support on the transport layer.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">0</span></code></p></td>
<td><p>Disable heterogeneous memory support on the transport layer (<strong>default</strong>).</p></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Description</strong></p>
<p>Set this environment variable to enable handling of HMEM/GPU buffers by the transport layer.
The actual HMEM support depends on the limitations on the transport level and system configuration.</p>
</section>
<section id="ccl-atl-shm">
<h3>CCL_ATL_SHM<a class="headerlink" href="#ccl-atl-shm" title="Link to this heading">#</a></h3>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_ATL_SHM</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<div class="pst-scrollable-table-container"><table class="table table-left">
<colgroup>
<col style="width: 33.3%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>&lt;value&gt;</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">0</span></code></p></td>
<td><p>Disables the OFI shared memory provider. The default value.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">1</span></code></p></td>
<td><p>Enables the OFI shared memory provider.</p></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Description</strong></p>
<p>Set this environment variable to enable the OFI shared memory provider to
communicate between ranks in the same node of the host (CPU) buffers. This
capability requires OFI as the transport (<code class="docutils literal notranslate"><span class="pre">CCL_ATL_TRANSPORT=ofi</span></code>).</p>
<p>The OFI/SHM provider has support to utilize the <a class="reference external" href="https://01.org/blogs/2019/introducing-intel-data-streaming-accelerator">Intel(R) Data Streaming Accelerator* (DSA)</a>.
To run it with DSA*, you need:
* Linux* OS kernel support for the DSA* shared work queues
* Libfabric* 1.17 or later</p>
<p>To enable DSA, set the following environment variables:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">FI_SHM_DISABLE_CMA</span><span class="o">=</span><span class="mi">1</span>
<span class="n">FI_SHM_USE_DSA_SAR</span><span class="o">=</span><span class="mi">1</span>
</pre></div>
</div>
<p>Refer to Libfabric* Programmer&#8217;s Manual for the additional details about DSA*
support in the SHM provider:
<a class="reference external" href="https://ofiwg.github.io/libfabric/main/man/fi_shm.7.html">https://ofiwg.github.io/libfabric/main/man/fi_shm.7.html</a>.</p>
</section>
</section>
<section id="process-launcher">
<h2>PROCESS LAUNCHER<a class="headerlink" href="#process-launcher" title="Link to this heading">#</a></h2>
<p>The group of environment variables to control PROCESS_LAUNCHER.</p>
<section id="ccl-process-launcher">
<h3>CCL_PROCESS_LAUNCHER<a class="headerlink" href="#ccl-process-launcher" title="Link to this heading">#</a></h3>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_PROCESS_LAUNCHER</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<div class="pst-scrollable-table-container"><table class="table table-left">
<colgroup>
<col style="width: 33.3%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>&lt;value&gt;</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">hydra</span></code></p></td>
<td><p>Uses the MPI hydra job launcher. The default value.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">torchrun</span></code></p></td>
<td><p>Uses <cite>torchrun &lt;https://pytorch.org/docs/stable/elastic/run.html&gt;</cite> as a job launcher.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">pmix</span></code></p></td>
<td><p>Is used with the PALS job launcher that uses the pmix API. The <code class="docutils literal notranslate"><span class="pre">mpiexec</span></code> command should be similar to:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_PROCESS_LAUNCHER</span><span class="o">=</span><span class="n">pmix</span><span class="w"> </span><span class="n">CCL_ATL_TRANSPORT</span><span class="o">=</span><span class="n">mpi</span><span class="w"> </span><span class="n">mpiexec</span><span class="w"> </span><span class="o">-</span><span class="n">np</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">-</span><span class="n">ppn</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">--</span><span class="n">pmi</span><span class="o">=</span><span class="n">pmix</span><span class="w"> </span><span class="p">...</span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">none</span></code></p></td>
<td><p>No job launcher is used. You should specify the values for <code class="docutils literal notranslate"><span class="pre">CCL_LOCAL_SIZE</span> <span class="pre">and</span> <span class="pre">CCL_LOCAL_RANK</span></code>.</p></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Description</strong></p>
<p>Set this environment variable to specify the job launcher.</p>
</section>
<section id="ccl-local-size">
<h3>CCL_LOCAL_SIZE<a class="headerlink" href="#ccl-local-size" title="Link to this heading">#</a></h3>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_LOCAL_SIZE</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<div class="pst-scrollable-table-container"><table class="table table-left">
<colgroup>
<col style="width: 33.3%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>&lt;value&gt;</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">SIZE</span></code></p></td>
<td><p>A total number of ranks on the local host.</p></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Description</strong></p>
<p>Set this environment variable to specify a total number of ranks on a local host.</p>
</section>
<section id="ccl-local-rank">
<h3>CCL_LOCAL_RANK<a class="headerlink" href="#ccl-local-rank" title="Link to this heading">#</a></h3>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_LOCAL_RANK</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<div class="pst-scrollable-table-container"><table class="table table-left">
<colgroup>
<col style="width: 33.3%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>&lt;value&gt;</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">RANK</span></code></p></td>
<td><p>Rank number of the current process on the local host.</p></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Description</strong></p>
<p>Set this environment variable to specify the rank number of the current process in the local host.</p>
</section>
</section>
<section id="multi-nic">
<h2>Multi-NIC<a class="headerlink" href="#multi-nic" title="Link to this heading">#</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">CCL_MNIC</span></code>, <code class="docutils literal notranslate"><span class="pre">CCL_MNIC_NAME</span></code> and <code class="docutils literal notranslate"><span class="pre">CCL_MNIC_COUNT</span></code> define filters to select multiple NICs.
oneCCL workers will be pinned on selected NICs in a round-robin way.</p>
<section id="ccl-mnic">
<h3>CCL_MNIC<a class="headerlink" href="#ccl-mnic" title="Link to this heading">#</a></h3>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_MNIC</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<div class="pst-scrollable-table-container"><table class="table table-left">
<colgroup>
<col style="width: 33.3%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>&lt;value&gt;</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">global</span></code></p></td>
<td><p>Select all NICs available on the node.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">local</span></code></p></td>
<td><p>Select all NICs local for the NUMA node that corresponds to process pinning.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">none</span></code></p></td>
<td><p>Disable special NIC selection, use a single default NIC (<strong>default</strong>).</p></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Description</strong></p>
<p>Set this environment variable to control multi-NIC selection by NIC locality.</p>
</section>
<section id="ccl-mnic-name">
<h3>CCL_MNIC_NAME<a class="headerlink" href="#ccl-mnic-name" title="Link to this heading">#</a></h3>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_MNIC_NAME</span><span class="o">=&lt;</span><span class="n">namelist</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<div class="pst-scrollable-table-container"><table class="table table-left">
<colgroup>
<col style="width: 33.3%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>&lt;namelist&gt;</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">&lt;namelist&gt;</span></code></p></td>
<td><p>A comma-separated list of NIC full names or prefixes to filter NICs.
Use the <code class="docutils literal notranslate"><span class="pre">^</span></code> symbol to exclude NICs starting with the specified prefixes. For example,
if you provide a list <code class="docutils literal notranslate"><span class="pre">mlx5_0,mlx5_1,^mlx5_2</span></code>, NICs with the names <code class="docutils literal notranslate"><span class="pre">mlx5_0</span></code> and <code class="docutils literal notranslate"><span class="pre">mlx5_1</span></code>
will be selected, while <code class="docutils literal notranslate"><span class="pre">mlx5_2</span></code> will be excluded from the selection.</p></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Description</strong></p>
<p>Set this environment variable to control multi-NIC selection by NIC names.</p>
</section>
<section id="ccl-mnic-count">
<h3>CCL_MNIC_COUNT<a class="headerlink" href="#ccl-mnic-count" title="Link to this heading">#</a></h3>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_MNIC_COUNT</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<div class="pst-scrollable-table-container"><table class="table table-left">
<colgroup>
<col style="width: 33.3%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>&lt;value&gt;</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">N</span></code></p></td>
<td><p>The maximum number of NICs that should be selected for oneCCL workers.
If not specified then equal to the number of oneCCL workers.</p></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Description</strong></p>
<p>Set this environment variable to specify the maximum number of NICs to be
selected. The actual number of NICs selected may be smaller due to limitations
on transport level or system configuration.</p>
</section>
</section>
<section id="inter-process-communication-ipc">
<h2>Inter Process Communication (IPC)<a class="headerlink" href="#inter-process-communication-ipc" title="Link to this heading">#</a></h2>
<section id="ccl-ze-cache-open-ipc-handles-threshold">
<h3>CCL_ZE_CACHE_OPEN_IPC_HANDLES_THRESHOLD<a class="headerlink" href="#ccl-ze-cache-open-ipc-handles-threshold" title="Link to this heading">#</a></h3>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_ZE_CACHE_OPEN_IPC_HANDLES_THRESHOLD</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span>
</pre></div>
</div>
<div class="pst-scrollable-table-container"><table class="table table-left">
<colgroup>
<col style="width: 33.3%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>&lt;value&gt;</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">N</span></code></p></td>
<td><p>The number IPC handles in the receiver cache. The default value is 1000.</p></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Description</strong></p>
<p>Use this environment variable to change the number of IPC
handles opened with <code class="docutils literal notranslate"><span class="pre">zeMemOpenIpcHandle()</span></code> that oneCCL maintains in its receiving
cache. IPC handles refer to <a class="reference external" href="https://oneapi-src.github.io/level-zero-spec/level-zero/latest/core/PROG.html#memory-1">Level Zero Memory IPCs</a>.</p>
<p>The IPC handles opened with <code class="docutils literal notranslate"><span class="pre">zeMemOpenIpcHandle()</span></code> are stored by oneCCL in
the receiving cache. However, when the number of opened IPC handles exceeds the
specified threshold, the cache will evict a handle using a LRU (Last Recently
Used) policy. Starting with version 2021.10, the default value is 1000.</p>
</section>
<section id="ccl-ze-ipc-exchange">
<h3>CCL_ZE_IPC_EXCHANGE<a class="headerlink" href="#ccl-ze-ipc-exchange" title="Link to this heading">#</a></h3>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_ZE_IPC_EXCHANGE</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<div class="pst-scrollable-table-container"><table class="table table-left">
<colgroup>
<col style="width: 33.3%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>&lt;value&gt;</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">drmfd</span></code></p></td>
<td><p>Uses the DRM mechanism for Level Zero IPC exchange. This is an experimental mechanism that is used with OS kernels previous to SP4. Default value for 2021.13 and before. To use the DRM mechanism, the <code class="docutils literal notranslate"><span class="pre">libdrm</span></code> and <code class="docutils literal notranslate"><span class="pre">drm</span></code> headers must be available on the system.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">pidfd</span></code></p></td>
<td><p>Uses <code class="docutils literal notranslate"><span class="pre">pidfd</span></code> mechanism for Level Zero IPC exchange. It requires OS kernel SP4 or above as it requires Linux 5.6 kernel or above. Default with 2021.14.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">sockets</span></code></p></td>
<td><p>Uses socket mechanism for Level Zero IPC exchange.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">none</span></code></p></td>
<td><p>This mode is used by oneCCL when built on a system without <code class="docutils literal notranslate"><span class="pre">drmfd</span></code> support.</p></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Description</strong></p>
<p>Set this environment variable to specify the mechanism to use for Level Zero IPC exchange.</p>
</section>
<section id="ccl-ze-cache-get-ipc-handles-threshold">
<h3>CCL_ZE_CACHE_GET_IPC_HANDLES_THRESHOLD<a class="headerlink" href="#ccl-ze-cache-get-ipc-handles-threshold" title="Link to this heading">#</a></h3>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_ZE_CACHE_GET_IPC_HANDLES_THRESHOLD</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span>
</pre></div>
</div>
<div class="pst-scrollable-table-container"><table class="table table-left">
<colgroup>
<col style="width: 33.3%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>&lt;value&gt;</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">N</span></code></p></td>
<td><p>The number IPC handles in the receiver cache. The default value is 1000.</p></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Description</strong></p>
<p>Use this environment variable to change the number of IPC handles obtained with
<code class="docutils literal notranslate"><span class="pre">zeMemGetIpcHandle()</span></code> that oneCCL maintains in its sender cache. IPC handles
refer to <a class="reference external" href="https://spec.oneapi.io/level-zero/latest/core/PROG.html#memory-1">Level Zero Memory IPCs</a>.</p>
<p>The IPC handles obtained with <code class="docutils literal notranslate"><span class="pre">zeMemGetIpcHandle()</span></code> are stored by oneCCL in the
sender cache. However, when the number of get IPC handles exceeds the specified
threshold, the cache will evict a handle using a LRU (Last Recently Used)
policy. The default value is 1000.</p>
</section>
</section>
<section id="low-precision-data-types">
<span id="low-precision-datatypes"></span><h2>Low-precision Data Types<a class="headerlink" href="#low-precision-data-types" title="Link to this heading">#</a></h2>
<p>The group of environment variables to control processing of low-precision data types.</p>
<section id="ccl-bf16">
<h3>CCL_BF16<a class="headerlink" href="#ccl-bf16" title="Link to this heading">#</a></h3>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_BF16</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<div class="pst-scrollable-table-container"><table class="table table-left">
<colgroup>
<col style="width: 33.3%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>&lt;value&gt;</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">avx512f</span></code></p></td>
<td><p>Select implementation based on <code class="docutils literal notranslate"><span class="pre">AVX512F</span></code> instructions.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">avx512bf</span></code></p></td>
<td><p>Select implementation based on <code class="docutils literal notranslate"><span class="pre">AVX512_BF16</span></code> instructions.</p></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Description</strong></p>
<p>Set this environment variable to select implementation for BF16 &lt;-&gt; FP32
conversion on reduction phase of collective operation. The default value
depends on instruction set support on specific CPU. <code class="docutils literal notranslate"><span class="pre">AVX512_BF16</span></code>-based
implementation has precedence over <code class="docutils literal notranslate"><span class="pre">AVX512F</span></code>-based one.</p>
</section>
<section id="ccl-fp16">
<h3>CCL_FP16<a class="headerlink" href="#ccl-fp16" title="Link to this heading">#</a></h3>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_FP16</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<div class="pst-scrollable-table-container"><table class="table table-left">
<colgroup>
<col style="width: 33.3%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>&lt;value&gt;</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">f16c</span></code></p></td>
<td><p>Select implementation based on <code class="docutils literal notranslate"><span class="pre">F16C</span></code> instructions.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">avx512f</span></code></p></td>
<td><p>Select implementation based on <code class="docutils literal notranslate"><span class="pre">AVX512F</span></code> instructions.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">avx512fp16</span></code></p></td>
<td><p>Select implementation based on <code class="docutils literal notranslate"><span class="pre">AVX512FP16</span></code> instructions.</p></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Description</strong></p>
<p>Set this environment variable to select implementation for on reduction phase of collective operation.
<code class="docutils literal notranslate"><span class="pre">AVX512FP16</span></code> uses native FP16 numeric operations for reduction.
<code class="docutils literal notranslate"><span class="pre">AVX512F</span></code> and <code class="docutils literal notranslate"><span class="pre">F16C</span></code> use FP16 &lt;-&gt; FP32 conversion operations to perform the reduction.
The default value depends on instruction set support on specific CPU.
<code class="docutils literal notranslate"><span class="pre">AVX512FP16</span></code>-based implementation has precedence over <code class="docutils literal notranslate"><span class="pre">AVX512F</span></code> and <code class="docutils literal notranslate"><span class="pre">F16C</span></code>-based one.</p>
</section>
<section id="ccl-atl-mpi-fp16">
<h3>CCL_ATL_MPI_FP16<a class="headerlink" href="#ccl-atl-mpi-fp16" title="Link to this heading">#</a></h3>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_ATL_MPI_FP16</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<div class="pst-scrollable-table-container"><table class="table table-left">
<colgroup>
<col style="width: 33.3%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>&lt;value&gt;</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">0</span></code></p></td>
<td><p>Disables the Intel MPI native FP16 support.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">1</span></code></p></td>
<td><p>Enables the Intel MPI native FP16 support (default for version 2021.14).</p></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Description</strong></p>
<p>Set this environment variable to enable or disable Intel MPI native FP16 support. Requires Intel MPI newer than 2021.13. This variable can be enabled with MPI implementation that is not Intel MPI, such as <code class="docutils literal notranslate"><span class="pre">MPICH</span></code>, but it will have no impact.</p>
</section>
<section id="ccl-atl-mpi-bf16">
<h3>CCL_ATL_MPI_BF16<a class="headerlink" href="#ccl-atl-mpi-bf16" title="Link to this heading">#</a></h3>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_ATL_MPI_BF16</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<div class="pst-scrollable-table-container"><table class="table table-left">
<colgroup>
<col style="width: 33.3%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>&lt;value&gt;</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">0</span></code></p></td>
<td><p>Disables the Intel MPI native BF16 support.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">1</span></code></p></td>
<td><p>Enables the Intel MPI native BF16 support (default for version 2021.14).</p></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Description</strong></p>
<p>Set this environment variable to enable or disable Intel MPI native BF16 support. Requires Intel MPI newer than 2021.13. This variable can be enabled with MPI implementation that is not Intel MPI, such as <code class="docutils literal notranslate"><span class="pre">MPICH</span></code>, but it will have no impact.</p>
</section>
</section>
<section id="ccl-log-level">
<h2>CCL_LOG_LEVEL<a class="headerlink" href="#ccl-log-level" title="Link to this heading">#</a></h2>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_LOG_LEVEL</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<div class="pst-scrollable-table-container"><table class="table table-left">
<thead>
<tr class="row-odd"><th class="head"><p>&lt;value&gt;</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">error</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">warn</span></code> (<strong>default</strong>)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">info</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">debug</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">trace</span></code></p></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Description</strong></p>
<p>Set this environment variable to control logging level.</p>
</section>
<section id="profiling">
<h2>Profiling<a class="headerlink" href="#profiling" title="Link to this heading">#</a></h2>
<section id="ccl-itt-level">
<h3>CCL_ITT_LEVEL<a class="headerlink" href="#ccl-itt-level" title="Link to this heading">#</a></h3>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_ITT_LEVEL</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<div class="pst-scrollable-table-container"><table class="table table-left">
<colgroup>
<col style="width: 33.3%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>&lt;value&gt;</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">1</span></code></p></td>
<td><p>Enable support for ITT profiling.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">0</span></code></p></td>
<td><p>Disable support for ITT profiling (<strong>default</strong>).</p></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Description</strong></p>
<p>Set this environment variable to specify Intel&#174; Instrumentation and Tracing Technology (ITT) profiling level.
Once the environment variable is enabled (<cite>value&gt;0</cite>), it is possible to collect and display profiling
data for oneCCL using tools such as Intel&#174; VTune&#8482; Profiler and <a class="reference external" href="https://github.com/intel/pti-gpu/tree/master/tools/unitrace">Unified Tracing and Profiling Tool</a>.</p>
</section>
<section id="ccl-profiling-enable">
<h3>CCL_PROFILING_ENABLE<a class="headerlink" href="#ccl-profiling-enable" title="Link to this heading">#</a></h3>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_PROFILING_ENABLE</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<div class="pst-scrollable-table-container"><table class="table table-left">
<colgroup>
<col style="width: 33.3%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>&lt;value&gt;</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">1</span></code></p></td>
<td><p>Enable oneCCL profiling.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">0</span></code></p></td>
<td><p>Disable oneCCL profiling (default).</p></td>
</tr>
</tbody>
</table>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This release provides a <em>technical preview</em> of a new profiling feature under development. All aspects of this feature are subject to change. There is no guarantee that the output format will remain stable and should not yet be relied upon. The feature may be removed without notice. The profiler captures environment information and oneCCL communication API call information.</p>
</div>
<p><strong>Description</strong>
Set this environment variable to enable profiling within the oneCCL library.</p>
<p>This environment variable enables profiling for:</p>
<ul class="simple">
<li><p>All the ranks, when the same value is set for all ranks or</p></li>
<li><p>Selectively for defined ranks by specifying different value of this environment variable for different ranks. This may be accomplished through the use of a wrapper script with the job launcher.</p></li>
</ul>
<p>Notice that the <cite>CCL_PROFILING_ENABLE</cite> enables profiling information within the oneCCL library, which is different from the support provided by <cite>CCL_ITT_LEVEL</cite>.</p>
<p>The profiler captures CCL environment information such as the CCL library version, compute backend, compiler, runtime environment variables, and OFI provider.</p>
<p>The API call information profiles the following operations: <cite>ALLREDUCE</cite>, <cite>ALLGATHER</cite>, <cite>ALLGATHERV</cite>, <cite>ALLTOALL</cite>, <cite>ALLTOALLV</cite>, <cite>BARRIER</cite>, <cite>BROADCAST</cite>, <cite>REDUCE</cite>, <cite>REDUCE_SCATTER</cite>, <cite>send</cite>, and <cite>recv</cite>. The information is collected on a per communicator basis and captures the following information:</p>
<ul class="simple">
<li><p>User arguments for the API calls,</p></li>
<li><p>Communicator ID,</p></li>
<li><p>The host time consumed by the API calls with same user arguments and communicator ID, and</p></li>
<li><p>Operation count/API calls with a unique set of arguments and communicator ID. Notice that the time measurement begins when the application calls the oneCCL API and ends when control returns to the application.</p></li>
</ul>
<p>The output for the environment info is printed with preceding <cite>Profiling_env</cite>. An example output is shown next:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="mi">2025</span><span class="o">:</span><span class="mo">05</span><span class="o">:</span><span class="mo">01</span><span class="mi">-12</span><span class="o">:</span><span class="mi">16</span><span class="o">:</span><span class="mi">24</span><span class="o">:</span><span class="p">(</span><span class="mi">1407613</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="n">Profiling_env</span><span class="o">|</span><span class="w"> </span><span class="n">CCL_WORKER_COUNT</span><span class="o">:</span><span class="w"> </span><span class="mi">1</span>
<span class="mi">2025</span><span class="o">:</span><span class="mo">05</span><span class="o">:</span><span class="mo">01</span><span class="mi">-12</span><span class="o">:</span><span class="mi">16</span><span class="o">:</span><span class="mi">24</span><span class="o">:</span><span class="p">(</span><span class="mi">1407613</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="n">Profiling_env</span><span class="o">|</span><span class="w"> </span><span class="n">CCL_WORKER_OFFLOAD</span><span class="o">:</span><span class="w"> </span><span class="mi">1</span>
<span class="mi">2025</span><span class="o">:</span><span class="mo">05</span><span class="o">:</span><span class="mo">01</span><span class="mi">-12</span><span class="o">:</span><span class="mi">16</span><span class="o">:</span><span class="mi">24</span><span class="o">:</span><span class="p">(</span><span class="mi">1407613</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="n">Profiling_env</span><span class="o">|</span><span class="w"> </span><span class="n">CCL_WORKER_WAIT</span><span class="o">:</span><span class="w"> </span><span class="mi">1</span>
<span class="mi">2025</span><span class="o">:</span><span class="mo">05</span><span class="o">:</span><span class="mo">01</span><span class="mi">-12</span><span class="o">:</span><span class="mi">16</span><span class="o">:</span><span class="mi">24</span><span class="o">:</span><span class="p">(</span><span class="mi">1407613</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="n">Profiling_env</span><span class="o">|</span><span class="w"> </span><span class="n">CCL_LOG_LEVEL</span><span class="o">:</span><span class="w"> </span><span class="n">warn</span>
</pre></div>
</div>
<p>The generated output for the oneCCL communication API calls is printed in a CSV format. An example below shows the profiling header and sample output for <cite>ALLGATHERV</cite>. Output is printed with preceding <cite>Profiling_Header</cite> and <cite>Profiling_log</cite>, which can help filter out the profiling information during analysis.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="nl">Profiling_Header</span><span class="p">:,</span><span class="w"> </span><span class="n">operation</span><span class="p">,</span><span class="w"> </span><span class="n">comm_id</span><span class="p">,</span><span class="w"> </span><span class="n">rank</span><span class="p">,</span><span class="w"> </span><span class="n">comm_size</span><span class="p">,</span><span class="w"> </span><span class="n">msg_count</span><span class="p">,</span><span class="w"> </span><span class="n">datatype</span><span class="p">,</span><span class="w"> </span><span class="n">op_count</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="n">duration</span><span class="o">-</span><span class="n">us</span><span class="p">;</span><span class="o">*</span><span class="p">].</span>
<span class="nl">Profiling_log</span><span class="p">:,</span><span class="n">allgatherv</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">12</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="n">float64</span><span class="p">,</span><span class="mi">34</span><span class="p">,[</span><span class="mi">262</span><span class="p">;</span><span class="mi">96</span><span class="p">;</span><span class="mi">105</span><span class="p">;</span><span class="mi">95</span><span class="p">;</span><span class="mi">99</span><span class="p">;</span><span class="mi">93</span><span class="p">;</span><span class="mi">104</span><span class="p">;</span><span class="mi">88</span><span class="p">;</span><span class="mi">99</span><span class="p">;</span><span class="mi">96</span><span class="p">;</span><span class="mi">113</span><span class="p">;</span><span class="mi">83</span><span class="p">;</span><span class="mi">106</span><span class="p">;</span><span class="mi">83</span><span class="p">;</span><span class="mi">143</span><span class="p">;</span><span class="mi">91</span><span class="p">;</span><span class="mi">112</span><span class="p">;</span><span class="mi">90</span><span class="p">;</span><span class="mi">115</span><span class="p">;</span><span class="mi">91</span><span class="p">;</span><span class="mi">133</span><span class="p">;</span><span class="mi">101</span><span class="p">;</span><span class="mi">104</span><span class="p">;</span><span class="mi">76</span><span class="p">;</span><span class="mi">168</span><span class="p">;</span><span class="mi">96</span><span class="p">;</span><span class="mi">206</span><span class="p">;</span><span class="mi">108</span><span class="p">;</span><span class="mi">253</span><span class="p">;</span><span class="mi">104</span><span class="p">;</span><span class="mi">222</span><span class="p">;</span><span class="mi">89</span><span class="p">;</span><span class="mi">260</span><span class="p">;</span><span class="mi">99</span><span class="p">;]</span>
</pre></div>
</div>
</section>
</section>
<section id="fusion">
<h2>Fusion<a class="headerlink" href="#fusion" title="Link to this heading">#</a></h2>
<p>The group of environment variables to control fusion of collective operations.</p>
<section id="ccl-fusion">
<h3>CCL_FUSION<a class="headerlink" href="#ccl-fusion" title="Link to this heading">#</a></h3>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_FUSION</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<div class="pst-scrollable-table-container"><table class="table table-left">
<colgroup>
<col style="width: 33.3%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>&lt;value&gt;</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">1</span></code></p></td>
<td><p>Enable fusion of collective operations</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">0</span></code></p></td>
<td><p>Disable fusion of collective operations (<strong>default</strong>)</p></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Description</strong></p>
<p>Set this environment variable to control fusion of collective operations.
The real fusion depends on additional settings described below.</p>
</section>
<section id="ccl-fusion-bytes-threshold">
<span id="id12"></span><h3>CCL_FUSION_BYTES_THRESHOLD<a class="headerlink" href="#ccl-fusion-bytes-threshold" title="Link to this heading">#</a></h3>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_FUSION_BYTES_THRESHOLD</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<div class="pst-scrollable-table-container"><table class="table table-left">
<colgroup>
<col style="width: 33.3%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>&lt;value&gt;</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">SIZE</span></code></p></td>
<td><p>Bytes threshold for a collective operation. If the size of a communication buffer in bytes is less than or equal
to <code class="docutils literal notranslate"><span class="pre">SIZE</span></code>, then oneCCL fuses this operation with the other ones.</p></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Description</strong></p>
<p>Set this environment variable to specify the threshold of the number of bytes for a collective operation to be fused.</p>
</section>
<section id="ccl-fusion-count-threshold">
<span id="id13"></span><h3>CCL_FUSION_COUNT_THRESHOLD<a class="headerlink" href="#ccl-fusion-count-threshold" title="Link to this heading">#</a></h3>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_FUSION_COUNT_THRESHOLD</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<div class="pst-scrollable-table-container"><table class="table table-left">
<colgroup>
<col style="width: 33.3%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>&lt;value&gt;</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">COUNT</span></code></p></td>
<td><p>The threshold for the number of collective operations.
oneCCL can fuse together no more than <code class="docutils literal notranslate"><span class="pre">COUNT</span></code> operations at a time.</p></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Description</strong></p>
<p>Set this environment variable to specify count threshold for a collective operation to be fused.</p>
</section>
<section id="ccl-fusion-cycle-ms">
<span id="id14"></span><h3>CCL_FUSION_CYCLE_MS<a class="headerlink" href="#ccl-fusion-cycle-ms" title="Link to this heading">#</a></h3>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_FUSION_CYCLE_MS</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<div class="pst-scrollable-table-container"><table class="table table-left">
<colgroup>
<col style="width: 33.3%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>&lt;value&gt;</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">MS</span></code></p></td>
<td><p>The frequency of checking for collectives operations to be fused, in milliseconds:</p>
<ul class="simple">
<li><p>Small <code class="docutils literal notranslate"><span class="pre">MS</span></code> value can improve latency.</p></li>
<li><p>Large <code class="docutils literal notranslate"><span class="pre">MS</span></code> value can help to fuse larger number of operations at a time.</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
<p><strong>Description</strong></p>
<p>Set this environment variable to specify the frequency of checking for collectives operations to be fused.</p>
</section>
</section>
<section id="ccl-priority">
<span id="id15"></span><h2>CCL_PRIORITY<a class="headerlink" href="#ccl-priority" title="Link to this heading">#</a></h2>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_PRIORITY</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<div class="pst-scrollable-table-container"><table class="table table-left">
<colgroup>
<col style="width: 33.3%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>&lt;value&gt;</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">direct</span></code></p></td>
<td><p>You have to explicitly specify the priority using <code class="docutils literal notranslate"><span class="pre">priority</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">lifo</span></code></p></td>
<td><p>Priority is implicitly increased on each collective call. You do not have to specify priority.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">none</span></code></p></td>
<td><p>Disable prioritization (<strong>default</strong>).</p></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Description</strong></p>
<p>Set this environment variable to control priority mode of collective operations.</p>
</section>
<section id="ccl-max-short-size">
<h2>CCL_MAX_SHORT_SIZE<a class="headerlink" href="#ccl-max-short-size" title="Link to this heading">#</a></h2>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_MAX_SHORT_SIZE</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<div class="pst-scrollable-table-container"><table class="table table-left">
<colgroup>
<col style="width: 33.3%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>&lt;value&gt;</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">SIZE</span></code></p></td>
<td><p>Bytes threshold for a collective operation (<code class="docutils literal notranslate"><span class="pre">0</span></code> if not specified).
If the size of a communication buffer in bytes is less than or equal to
<code class="docutils literal notranslate"><span class="pre">SIZE</span></code>, then oneCCL does not split operation between workers.
Applicable for <code class="docutils literal notranslate"><span class="pre">ALLREDUCE</span></code>, <code class="docutils literal notranslate"><span class="pre">REDUCE</span></code> and <code class="docutils literal notranslate"><span class="pre">BROADCAST</span></code>.</p></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Description</strong></p>
<p>Set this environment variable to specify the threshold of the number of bytes for a collective operation to be split.</p>
</section>
<section id="ccl-sycl-output-event">
<h2>CCL_SYCL_OUTPUT_EVENT<a class="headerlink" href="#ccl-sycl-output-event" title="Link to this heading">#</a></h2>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_SYCL_OUTPUT_EVENT</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<div class="pst-scrollable-table-container"><table class="table table-left">
<colgroup>
<col style="width: 33.3%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>&lt;value&gt;</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">1</span></code></p></td>
<td><p>Enable support for SYCL output event (<strong>default</strong>).</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">0</span></code></p></td>
<td><p>Disable support for SYCL output event.</p></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Description</strong></p>
<p>Set this environment variable to control support for SYCL output event.
Once the support is enabled, you can retrieve SYCL output event from oneCCL event using <code class="docutils literal notranslate"><span class="pre">get_native()</span></code> method.
oneCCL event must be associated with oneCCL communication operation.</p>
</section>
<section id="ccl-ze-library-path">
<h2>CCL_ZE_LIBRARY_PATH<a class="headerlink" href="#ccl-ze-library-path" title="Link to this heading">#</a></h2>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_ZE_LIBRARY_PATH</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<div class="pst-scrollable-table-container"><table class="table table-left">
<colgroup>
<col style="width: 33.3%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>&lt;value&gt;</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">PATH/NAME</span></code></p></td>
<td><p>Specify the name and full path to the <code class="docutils literal notranslate"><span class="pre">Level-Zero</span></code> library for dynamic loading by oneCCL.</p></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Description</strong></p>
<p>Set this environment variable to specify the name and full path to
<code class="docutils literal notranslate"><span class="pre">Level-Zero</span></code> library. The path should be absolute and validated. Set this
variable if <code class="docutils literal notranslate"><span class="pre">Level-Zero</span></code> is not located in the default path. By default
oneCCL uses the <code class="docutils literal notranslate"><span class="pre">libze_loader.so</span></code> name for dynamic loading.</p>
</section>
<section id="point-to-point-operations">
<h2>Point-To-Point Operations<a class="headerlink" href="#point-to-point-operations" title="Link to this heading">#</a></h2>
<section id="ccl-recv">
<h3>CCL_RECV<a class="headerlink" href="#ccl-recv" title="Link to this heading">#</a></h3>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_RECV</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<div class="pst-scrollable-table-container"><table class="table table-left">
<colgroup>
<col style="width: 33.3%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>&lt;value&gt;</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">direct</span></code></p></td>
<td><p>Based on the MPI*/OFI* transport layer.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">topo</span></code></p></td>
<td><p>Uses Intel(R) Xe Link technology across GPUs in a multi-GPU node. The default for GPU buffers.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">offload</span></code></p></td>
<td><p>Based on the MPI*/OFI* transport layer and GPU RDMA when supported by the hardware.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="ccl-send">
<h3>CCL_SEND<a class="headerlink" href="#ccl-send" title="Link to this heading">#</a></h3>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_SEND</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<div class="pst-scrollable-table-container"><table class="table table-left">
<colgroup>
<col style="width: 33.3%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>&lt;value&gt;</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">direct</span></code></p></td>
<td><p>Based on the MPI*/OFI* transport layer.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">topo</span></code></p></td>
<td><p>Uses Intel(R) Xe Link technology across GPUs in a multi-GPU node. The default for GPU buffers.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">offload</span></code></p></td>
<td><p>Based on the MPI*/OFI* transport layer and GPU RDMA when supported by the hardware.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
</section>
<section id="ccl-ze-tmp-buf-size">
<h2>CCL_ZE_TMP_BUF_SIZE<a class="headerlink" href="#ccl-ze-tmp-buf-size" title="Link to this heading">#</a></h2>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_ZE_TMP_BUF_SIZE</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<div class="pst-scrollable-table-container"><table class="table table-left">
<colgroup>
<col style="width: 33.3%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>&lt;value&gt;</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">N</span></code></p></td>
<td><p>Size of the temporary buffer (in bytes) oneCCL uses to perform
collective operations with topo algorithm and Level Zero path. Default is <code class="docutils literal notranslate"><span class="pre">536870912</span></code>, that is, <code class="docutils literal notranslate"><span class="pre">512</span> <span class="pre">MBs</span></code>.</p></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Description</strong></p>
<p>Set this environment variable to change the size of the temporary buffer used
by the topo algorithm in the Level Zero path. The value is specified in bytes.
The default value is <code class="docutils literal notranslate"><span class="pre">536870912</span></code>.</p>
<p>You can tune the value of this variable depending on the system memory
available, the memory the application requires, and the message size of the
collectives used. With larger values, oneCCL consumes more memory but can
provide higher performance. Similarly, small values will reduce memory
utilization, but can degrade performance.</p>
</section>
</section>


                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="api/operations/point-to-point.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Point-To-Point Operations</p>
      </div>
    </a>
    <a class="right-next"
       href="benchmark-guide/benchmark.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">oneCCL Benchmark Collective User Guide</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#collective-algorithms-selection">Collective Algorithms Selection</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#level-zero-path">Level Zero Path</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#allgather-allgatherv">ALLGATHER/ALLGATHERV</a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-allgather-ccl-allgatherv">CCL_ALLGATHER/CCL_ALLGATHERV</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-allgatherv-monolithic-pipeline-kernel">CCL_ALLGATHERV_MONOLITHIC_PIPELINE_KERNEL</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-allgather-scaleout-ccl-allgatherv-scaleout">CCL_ALLGATHER_SCALEOUT/CCL_ALLGATHERV_SCALEOUT</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-sycl-allgatherv-scaleout">CCL_SYCL_ALLGATHERV_SCALEOUT</a></li>
</ul>
</li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#allreduce">ALLREDUCE</a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-allreduce">CCL_ALLREDUCE</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-reduce-scatter-monolithic-pipeline-kernel-gpu-buffers-only">CCL_REDUCE_SCATTER_MONOLITHIC_PIPELINE_KERNEL (GPU buffers only)</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-allgatherv-monolithic-pipeline-kernel-gpu-buffers-only">CCL_ALLGATHERV_MONOLITHIC_PIPELINE_KERNEL (GPU buffers only)</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-allreduce-scaleout-gpu-buffers-only">CCL_ALLREDUCE_SCALEOUT (GPU buffers only)</a></li>
</ul>
</li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#alltoall-alltoallv">ALLTOALL, ALLTOALLV</a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-alltoall-ccl-alltoallv">CCL_ALLTOALL, CCL_ALLTOALLV</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-alltoallv-monolithic-kernel">CCL_ALLTOALLV_MONOLITHIC_KERNEL</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-alltoall-scaleout-ccl-scaleout-alltoallv-scaleout">CCL_ALLTOALL_SCALEOUT, CCL_scaleout_ALLTOALLV_scaleout</a></li>
</ul>
</li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#barrier">BARRIER</a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-barrier">CCL_BARRIER</a></li>
</ul>
</li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#broadcast">BROADCAST</a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-bcast">CCL_BCAST</a></li>
</ul>
</li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#reduce">REDUCE</a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-reduce">CCL_REDUCE</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">CCL_REDUCE_SCATTER_MONOLITHIC_PIPELINE_KERNEL (GPU buffers only)</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-reduce-scaleout-gpu-buffers-only">CCL_REDUCE_SCALEOUT (GPU buffers only)</a></li>
</ul>
</li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#reduce-scatter">REDUCE SCATTER</a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-reduce-scatter">CCL_REDUCE_SCATTER</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#id3">CCL_REDUCE_SCATTER_MONOLITHIC_PIPELINE_KERNEL (GPU buffers only)</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-reduce-scatter-scaleout-gpu-buffers-only">CCL_REDUCE_SCATTER_SCALEOUT (GPU buffers only)</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sycl-path">SYCL PATH</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#all-collectives">All collectives</a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-enable-sycl-kernels">CCL_ENABLE_SYCL_KERNELS</a></li>
</ul>
</li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id4">ALLGATHER/ALLGATHERV</a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-sycl-allgatherv-tmp-buf">CCL_SYCL_ALLGATHERV_TMP_BUF</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-sycl-allgatherv-small-threshold">CCL_SYCL_ALLGATHERV_SMALL_THRESHOLD</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-sycl-allgatherv-scaleout-threshold">CCL_SYCL_ALLGATHERV_SCALEOUT_THRESHOLD</a></li>
</ul>
</li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id5">ALLREDUCE</a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-sycl-allreduce-tmp-buf">CCL_SYCL_ALLREDUCE_TMP_BUF</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-sycl-allreduce-small-threshold">CCL_SYCL_ALLREDUCE_SMALL_THRESHOLD</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-sycl-allreduce-scaleout-threshold">CCL_SYCL_ALLREDUCE_SCALEOUT_THRESHOLD</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-sycl-allreduce-scaleout-direct-threshold">CCL_SYCL_ALLREDUCE_SCALEOUT_DIRECT_THRESHOLD</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-sycl-allreduce-scaleout">CCL_SYCL_ALLREDUCE_SCALEOUT</a></li>
</ul>
</li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id6">BROADCAST</a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-sycl-broadcast-tmp-buf">CCL_SYCL_BROADCAST_TMP_BUF</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-sycl-broadcast-small-threshold">CCL_SYCL_BROADCAST_SMALL_THRESHOLD</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-sycl-broadcast-scaleout-threshold">CCL_SYCL_BROADCAST_SCALEOUT_THRESHOLD</a></li>
</ul>
</li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id7">REDUCE SCATTER</a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-sycl-reduce-scatter-tmp-buf">CCL_SYCL_REDUCE_SCATTER_TMP_BUF</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-sycl-reduce-scatter-small-threshold">CCL_SYCL_REDUCE_SCATTER_SMALL_THRESHOLD</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-sycl-reduce-scatter-scaleout-direct-threshold">CCL_SYCL_REDUCE_SCATTER_SCALEOUT_DIRECT_THRESHOLD</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-sycl-reduce-scatter-scaleout">CCL_SYCL_REDUCE_SCATTER_SCALEOUT</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-sycl-reduce-scatter-scaleout-threshold">CCL_SYCL_REDUCE_SCATTER_SCALEOUT_THRESHOLD</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#workers">Workers</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-worker-count">CCL_WORKER_COUNT</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-worker-affinity">CCL_WORKER_AFFINITY</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-worker-mem-affinity">CCL_WORKER_MEM_AFFINITY</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#kvs">KVS</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-kvs-mode">CCL_KVS_MODE</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#atl">ATL</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-atl-transport">CCL_ATL_TRANSPORT</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-atl-hmem">CCL_ATL_HMEM</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-atl-shm">CCL_ATL_SHM</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#process-launcher">PROCESS LAUNCHER</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-process-launcher">CCL_PROCESS_LAUNCHER</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-local-size">CCL_LOCAL_SIZE</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-local-rank">CCL_LOCAL_RANK</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#multi-nic">Multi-NIC</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-mnic">CCL_MNIC</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-mnic-name">CCL_MNIC_NAME</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-mnic-count">CCL_MNIC_COUNT</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#inter-process-communication-ipc">Inter Process Communication (IPC)</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-ze-cache-open-ipc-handles-threshold">CCL_ZE_CACHE_OPEN_IPC_HANDLES_THRESHOLD</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-ze-ipc-exchange">CCL_ZE_IPC_EXCHANGE</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-ze-cache-get-ipc-handles-threshold">CCL_ZE_CACHE_GET_IPC_HANDLES_THRESHOLD</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#low-precision-data-types">Low-precision Data Types</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-bf16">CCL_BF16</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-fp16">CCL_FP16</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-atl-mpi-fp16">CCL_ATL_MPI_FP16</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-atl-mpi-bf16">CCL_ATL_MPI_BF16</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-log-level">CCL_LOG_LEVEL</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#profiling">Profiling</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-itt-level">CCL_ITT_LEVEL</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-profiling-enable">CCL_PROFILING_ENABLE</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#fusion">Fusion</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-fusion">CCL_FUSION</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-fusion-bytes-threshold">CCL_FUSION_BYTES_THRESHOLD</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-fusion-count-threshold">CCL_FUSION_COUNT_THRESHOLD</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-fusion-cycle-ms">CCL_FUSION_CYCLE_MS</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-priority">CCL_PRIORITY</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-max-short-size">CCL_MAX_SHORT_SIZE</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-sycl-output-event">CCL_SYCL_OUTPUT_EVENT</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-ze-library-path">CCL_ZE_LIBRARY_PATH</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#point-to-point-operations">Point-To-Point Operations</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-recv">CCL_RECV</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-send">CCL_SEND</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-ze-tmp-buf-size">CCL_ZE_TMP_BUF_SIZE</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Intel
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      &#169; Copyright 2025.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
<div class="extra_footer">
  <p align="right"><a href="https://www.intel.com/content/www/us/en/privacy/intel-cookie-notice.html">Cookies</a></p><br><div>Last updated: 07 July, 2025</div>
</div>
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>